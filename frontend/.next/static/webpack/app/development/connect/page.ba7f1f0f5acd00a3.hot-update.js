"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/development/connect/page",{

/***/ "(app-pages-browser)/./src/services/projectsService.ts":
/*!*****************************************!*\
  !*** ./src/services/projectsService.ts ***!
  \*****************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   applyToProject: () => (/* binding */ applyToProject),\n/* harmony export */   declineProject: () => (/* binding */ declineProject),\n/* harmony export */   getAppliedProjects: () => (/* binding */ getAppliedProjects),\n/* harmony export */   getEmptyProjects: () => (/* binding */ getEmptyProjects),\n/* harmony export */   getProjects: () => (/* binding */ getProjects),\n/* harmony export */   getSampleProjects: () => (/* binding */ getSampleProjects),\n/* harmony export */   getSavedProjects: () => (/* binding */ getSavedProjects),\n/* harmony export */   purgeUserData: () => (/* binding */ purgeUserData),\n/* harmony export */   removeProject: () => (/* binding */ removeProject),\n/* harmony export */   saveProject: () => (/* binding */ saveProject),\n/* harmony export */   undoLastAction: () => (/* binding */ undoLastAction)\n/* harmony export */ });\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! axios */ \"(app-pages-browser)/./node_modules/axios/lib/axios.js\");\n/* harmony import */ var _config_firebase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/config/firebase */ \"(app-pages-browser)/./src/config/firebase.ts\");\n/* harmony import */ var firebase_firestore__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! firebase/firestore */ \"(app-pages-browser)/./node_modules/firebase/firestore/dist/esm/index.esm.js\");\n/* harmony import */ var _services_authService__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/services/authService */ \"(app-pages-browser)/./src/services/authService.ts\");\n\n\n\n\nconst API_URL = \"http://localhost:5001/fruition-dev/us-central1/api\" || 0;\nconst IS_DEV =  true || 0;\n// Helper function to get auth headers for API requests\nconst getAuthHeaders = ()=>{\n    const token = localStorage.getItem('authToken');\n    return {\n        Authorization: token ? \"Bearer \".concat(token) : '',\n        'Content-Type': 'application/json'\n    };\n};\n// Firestore helper functions\nconst getUserDataRef = (userId)=>{\n    return (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.doc)(_config_firebase__WEBPACK_IMPORTED_MODULE_0__.db, 'userData', userId);\n};\n// Get user data from Firestore\nconst getUserDataFromFirestore = async (userId, field, defaultValue)=>{\n    try {\n        // Check if Firestore is initialized\n        if (!_config_firebase__WEBPACK_IMPORTED_MODULE_0__.db) {\n            console.error('Firestore not initialized');\n            return defaultValue;\n        }\n        const userDocRef = getUserDataRef(userId);\n        const userDoc = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.getDoc)(userDocRef);\n        if (userDoc.exists() && userDoc.data()[field] !== undefined) {\n            return userDoc.data()[field];\n        }\n        return defaultValue;\n    } catch (error) {\n        console.error(\"Error getting \".concat(field, \" from Firestore:\"), error);\n        return defaultValue;\n    }\n};\n// Store user data in Firestore\nconst storeUserDataInFirestore = async (userId, field, data)=>{\n    try {\n        // Check if Firestore is initialized\n        if (!_config_firebase__WEBPACK_IMPORTED_MODULE_0__.db) {\n            console.error('Firestore not initialized');\n            return;\n        }\n        const userDocRef = getUserDataRef(userId);\n        const userDoc = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.getDoc)(userDocRef);\n        if (userDoc.exists()) {\n            // Update existing document\n            await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.updateDoc)(userDocRef, {\n                [field]: data,\n                updatedAt: new Date().toISOString()\n            });\n        } else {\n            // Create new document\n            await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.setDoc)(userDocRef, {\n                userId,\n                [field]: data,\n                createdAt: new Date().toISOString(),\n                updatedAt: new Date().toISOString()\n            });\n        }\n    } catch (error) {\n        console.error(\"Error storing \".concat(field, \" in Firestore:\"), error);\n        throw error; // Rethrow to allow handling by the caller\n    }\n};\n// Get projects from the API\nconst getProjects = async ()=>{\n    // In development, immediately return sample data\n    if (IS_DEV) {\n        console.log('Development mode: Using sample projects data');\n        // Use try-catch to handle potential auth state issues\n        try {\n            // Wait for auth to be initialized\n            const authenticated = await (0,_services_authService__WEBPACK_IMPORTED_MODULE_2__.isAuthenticated)();\n            if (!authenticated) {\n                console.log('No authenticated user, returning all sample projects');\n                return getSampleProjects();\n            }\n            const user = await (0,_services_authService__WEBPACK_IMPORTED_MODULE_2__.getCurrentUser)();\n            if (!user) {\n                console.log('No authenticated user after check, returning all sample projects');\n                return getSampleProjects();\n            }\n            // Get saved, applied, and declined project IDs from Firestore\n            const savedProjectIds = await getUserDataFromFirestore(user.uid, 'savedProjects', []);\n            const appliedProjectIds = await getUserDataFromFirestore(user.uid, 'appliedProjects', []);\n            const declinedProjectIds = await getUserDataFromFirestore(user.uid, 'declinedProjects', []);\n            const excludedIds = [\n                ...savedProjectIds,\n                ...appliedProjectIds,\n                ...declinedProjectIds\n            ];\n            // Filter out projects that are already saved, applied, or declined\n            return getSampleProjects().filter((project)=>!excludedIds.includes(project.id));\n        } catch (error) {\n            console.error('Error fetching user data from Firestore:', error);\n            // Fallback to all sample projects if Firestore fails\n            return getSampleProjects();\n        }\n    }\n    // Production API call logic\n    try {\n        const response = await axios__WEBPACK_IMPORTED_MODULE_3__[\"default\"].get(\"\".concat(API_URL, \"/connect/recommended\"), {\n            headers: getAuthHeaders()\n        });\n        if (response.data.success) {\n            return response.data.data || [];\n        }\n        // Fallback to sample data if the API doesn't return any projects\n        return getSampleProjects();\n    } catch (error) {\n        console.error('Error fetching projects:', error);\n        // Fallback to sample data if the API call fails\n        return getSampleProjects();\n    }\n};\n// Get saved projects from the API\nconst getSavedProjects = async ()=>{\n    // In development, immediately return sample data\n    if (IS_DEV) {\n        console.log('Development mode: Using sample saved projects data');\n        // Use try-catch to handle potential auth state issues\n        try {\n            // Wait for auth to be initialized\n            const authenticated = await (0,_services_authService__WEBPACK_IMPORTED_MODULE_2__.isAuthenticated)();\n            if (!authenticated) {\n                console.log('No authenticated user, returning empty saved projects');\n                return [];\n            }\n            const user = await (0,_services_authService__WEBPACK_IMPORTED_MODULE_2__.getCurrentUser)();\n            if (!user) {\n                console.log('No authenticated user after check, returning empty saved projects');\n                return [];\n            }\n            // Get saved project IDs from Firestore\n            const savedProjectIds = await getUserDataFromFirestore(user.uid, 'savedProjects', []);\n            console.log('Saved project IDs:', savedProjectIds);\n            // Return projects with these IDs\n            return getSampleProjects().filter((project)=>savedProjectIds.includes(project.id)).map((project)=>({\n                    ...project,\n                    id: \"saved_\".concat(project.id) // Ensure unique IDs for React keys\n                }));\n        } catch (error) {\n            console.error('Error fetching saved projects from Firestore:', error);\n            return [];\n        }\n    }\n    // Production API call logic\n    try {\n        const response = await axios__WEBPACK_IMPORTED_MODULE_3__[\"default\"].get(\"\".concat(API_URL, \"/connect/saved\"), {\n            headers: getAuthHeaders()\n        });\n        if (response.data.success) {\n            return response.data.data || [];\n        }\n        return [];\n    } catch (error) {\n        console.error('Error fetching saved projects:', error);\n        return [];\n    }\n};\n// Get applied projects from the API\nconst getAppliedProjects = async ()=>{\n    // In development, immediately return sample data\n    if (IS_DEV) {\n        console.log('Development mode: Using sample applied projects data');\n        // Use try-catch to handle potential auth state issues\n        try {\n            // Wait for auth to be initialized\n            const authenticated = await (0,_services_authService__WEBPACK_IMPORTED_MODULE_2__.isAuthenticated)();\n            if (!authenticated) {\n                console.log('No authenticated user, returning empty applied projects');\n                return [];\n            }\n            const user = await (0,_services_authService__WEBPACK_IMPORTED_MODULE_2__.getCurrentUser)();\n            if (!user) {\n                console.log('No authenticated user after check, returning empty applied projects');\n                return [];\n            }\n            // Get applied project IDs from Firestore\n            const appliedProjectIds = await getUserDataFromFirestore(user.uid, 'appliedProjects', []);\n            console.log('Applied project IDs:', appliedProjectIds);\n            // Return projects with these IDs\n            return getSampleProjects().filter((project)=>appliedProjectIds.includes(project.id)).map((project)=>({\n                    ...project,\n                    id: \"applied_\".concat(project.id) // Ensure unique IDs for React keys\n                }));\n        } catch (error) {\n            console.error('Error fetching applied projects from Firestore:', error);\n            return [];\n        }\n    }\n    // Production API call logic\n    try {\n        const response = await axios__WEBPACK_IMPORTED_MODULE_3__[\"default\"].get(\"\".concat(API_URL, \"/connect/applied\"), {\n            headers: getAuthHeaders()\n        });\n        if (response.data.success) {\n            return response.data.data || [];\n        }\n        return [];\n    } catch (error) {\n        console.error('Error fetching applied projects:', error);\n        return [];\n    }\n};\n// Apply to a project\nconst applyToProject = async (projectId)=>{\n    // In development, immediately return success\n    if (IS_DEV) {\n        console.log(\"Development mode: Simulating apply to project \".concat(projectId));\n        const currentUser = _config_firebase__WEBPACK_IMPORTED_MODULE_0__.auth.currentUser;\n        if (!currentUser) {\n            console.error('Cannot apply to project: No authenticated user');\n            return false;\n        }\n        try {\n            // Get current applied projects\n            const appliedProjectIds = await getUserDataFromFirestore(currentUser.uid, 'appliedProjects', []);\n            // Only add if not already in the list\n            if (!appliedProjectIds.includes(projectId)) {\n                const updatedAppliedProjects = [\n                    ...appliedProjectIds,\n                    projectId\n                ];\n                // Store in Firestore\n                await storeUserDataInFirestore(currentUser.uid, 'appliedProjects', updatedAppliedProjects);\n                // Store timestamp for this action\n                const timestamp = new Date().toISOString();\n                const appliedTimestamps = await getUserDataFromFirestore(currentUser.uid, 'appliedProjectsTimestamps', {});\n                appliedTimestamps[projectId] = timestamp;\n                await storeUserDataInFirestore(currentUser.uid, 'appliedProjectsTimestamps', appliedTimestamps);\n            }\n            return true;\n        } catch (error) {\n            console.error(\"Error applying to project \".concat(projectId, \":\"), error);\n            return false;\n        }\n    }\n    try {\n        const response = await axios__WEBPACK_IMPORTED_MODULE_3__[\"default\"].post(\"\".concat(API_URL, \"/connect/apply/\").concat(projectId), {}, {\n            headers: getAuthHeaders()\n        });\n        return response.data.success || false;\n    } catch (error) {\n        console.error(\"Error applying to project \".concat(projectId, \":\"), error);\n        return false;\n    }\n};\n// Save a project\nconst saveProject = async (projectId)=>{\n    // In development, immediately return success\n    if (IS_DEV) {\n        console.log(\"Development mode: Simulating save project \".concat(projectId));\n        const currentUser = _config_firebase__WEBPACK_IMPORTED_MODULE_0__.auth.currentUser;\n        if (!currentUser) {\n            console.error('Cannot save project: No authenticated user');\n            return false;\n        }\n        try {\n            // Get current saved projects\n            const savedProjectIds = await getUserDataFromFirestore(currentUser.uid, 'savedProjects', []);\n            // Only add if not already in the list\n            if (!savedProjectIds.includes(projectId)) {\n                const updatedSavedProjects = [\n                    ...savedProjectIds,\n                    projectId\n                ];\n                // Store in Firestore\n                await storeUserDataInFirestore(currentUser.uid, 'savedProjects', updatedSavedProjects);\n                // Store timestamp for this action\n                const timestamp = new Date().toISOString();\n                const savedTimestamps = await getUserDataFromFirestore(currentUser.uid, 'savedProjectsTimestamps', {});\n                savedTimestamps[projectId] = timestamp;\n                await storeUserDataInFirestore(currentUser.uid, 'savedProjectsTimestamps', savedTimestamps);\n            }\n            return true;\n        } catch (error) {\n            console.error(\"Error saving project \".concat(projectId, \":\"), error);\n            return false;\n        }\n    }\n    try {\n        const response = await axios__WEBPACK_IMPORTED_MODULE_3__[\"default\"].post(\"\".concat(API_URL, \"/connect/save/\").concat(projectId), {}, {\n            headers: getAuthHeaders()\n        });\n        return response.data.success || false;\n    } catch (error) {\n        console.error(\"Error saving project \".concat(projectId, \":\"), error);\n        return false;\n    }\n};\n// Decline a project\nconst declineProject = async (projectId)=>{\n    // In development, immediately return success\n    if (IS_DEV) {\n        console.log(\"Development mode: Simulating decline project \".concat(projectId));\n        const currentUser = _config_firebase__WEBPACK_IMPORTED_MODULE_0__.auth.currentUser;\n        if (!currentUser) {\n            console.error('Cannot decline project: No authenticated user');\n            return false;\n        }\n        try {\n            // Get current declined projects\n            const declinedProjectIds = await getUserDataFromFirestore(currentUser.uid, 'declinedProjects', []);\n            // Only add if not already in the list\n            if (!declinedProjectIds.includes(projectId)) {\n                const updatedDeclinedProjects = [\n                    ...declinedProjectIds,\n                    projectId\n                ];\n                // Store in Firestore\n                await storeUserDataInFirestore(currentUser.uid, 'declinedProjects', updatedDeclinedProjects);\n                // Store timestamp for this action\n                const timestamp = new Date().toISOString();\n                const declinedTimestamps = await getUserDataFromFirestore(currentUser.uid, 'declinedProjectsTimestamps', {});\n                declinedTimestamps[projectId] = timestamp;\n                await storeUserDataInFirestore(currentUser.uid, 'declinedProjectsTimestamps', declinedTimestamps);\n            }\n            return true;\n        } catch (error) {\n            console.error(\"Error declining project \".concat(projectId, \":\"), error);\n            return false;\n        }\n    }\n    try {\n        const response = await axios__WEBPACK_IMPORTED_MODULE_3__[\"default\"].post(\"\".concat(API_URL, \"/connect/decline/\").concat(projectId), {}, {\n            headers: getAuthHeaders()\n        });\n        return response.data.success || false;\n    } catch (error) {\n        console.error(\"Error declining project \".concat(projectId, \":\"), error);\n        return false;\n    }\n};\n// Remove a saved project\nconst removeProject = async (projectId)=>{\n    // In development, immediately return success\n    if (IS_DEV) {\n        console.log(\"Development mode: Simulating remove project \".concat(projectId));\n        const currentUser = _config_firebase__WEBPACK_IMPORTED_MODULE_0__.auth.currentUser;\n        if (!currentUser) {\n            console.error('Cannot remove project: No authenticated user');\n            return false;\n        }\n        try {\n            // Get current saved projects\n            const savedProjectIds = await getUserDataFromFirestore(currentUser.uid, 'savedProjects', []);\n            // Only remove if in the list\n            if (savedProjectIds.includes(projectId)) {\n                const updatedSavedProjects = savedProjectIds.filter((id)=>id !== projectId);\n                // Store in Firestore\n                await storeUserDataInFirestore(currentUser.uid, 'savedProjects', updatedSavedProjects);\n                // Remove from timestamps\n                const savedTimestamps = await getUserDataFromFirestore(currentUser.uid, 'savedProjectsTimestamps', {});\n                delete savedTimestamps[projectId];\n                await storeUserDataInFirestore(currentUser.uid, 'savedProjectsTimestamps', savedTimestamps);\n            }\n            return true;\n        } catch (error) {\n            console.error(\"Error removing project \".concat(projectId, \":\"), error);\n            return false;\n        }\n    }\n    try {\n        const response = await axios__WEBPACK_IMPORTED_MODULE_3__[\"default\"].post(\"\".concat(API_URL, \"/connect/remove/\").concat(projectId), {}, {\n            headers: getAuthHeaders()\n        });\n        return response.data.success || false;\n    } catch (error) {\n        console.error(\"Error removing project \".concat(projectId, \":\"), error);\n        return false;\n    }\n};\n// For testing: Return empty projects\nconst getEmptyProjects = async ()=>{\n    console.log('Development mode: Testing with empty projects');\n    return [];\n};\n// Sample projects data for fallback\nconst getSampleProjects = ()=>{\n    return [\n        {\n            id: '1',\n            title: 'Predicting Housing Prices Using Advanced Machine Learning Models',\n            description: 'This project explores the application of machine learning techniques to predict housing prices based on features such as location, square footage, and neighborhood amenities.',\n            faculty: 'Dr. Jane Smith',\n            department: 'Computer Science',\n            skills: [\n                'Python',\n                'Machine Learning',\n                'Data Analysis'\n            ],\n            duration: '3 months',\n            commitment: '10 hours/week'\n        },\n        {\n            id: '2',\n            title: 'Modeling Climate Change Impact on Regional Crop Yields',\n            description: 'This project examines how climate change variables—temperature, precipitation, and CO₂ levels—affect crop yields using time-series analysis and geospatial modeling.',\n            faculty: 'Dr. Michael Kim',\n            department: 'Environmental Science',\n            skills: [\n                'Python',\n                'TensorFlow',\n                'Geospatial Analysis'\n            ],\n            duration: '6 months',\n            commitment: '15 hours/week'\n        },\n        {\n            id: '3',\n            title: 'Developing a Mobile App for Mental Health Monitoring',\n            description: 'This project involves creating a mobile application that helps users track their mental health metrics over time, providing insights and suggesting resources when needed.',\n            faculty: 'Dr. Sarah Johnson',\n            department: 'Psychology',\n            skills: [\n                'React Native',\n                'JavaScript',\n                'UI/UX Design'\n            ],\n            duration: '4 months',\n            commitment: '12 hours/week'\n        },\n        {\n            id: '4',\n            title: 'Analyzing Social Media Discourse on Public Health Issues',\n            description: 'This project uses natural language processing to analyze how public health topics are discussed across different social media platforms and demographic groups.',\n            faculty: 'Dr. Robert Chen',\n            department: 'Public Health',\n            skills: [\n                'NLP',\n                'Data Mining',\n                'Statistical Analysis'\n            ],\n            duration: '5 months',\n            commitment: '8 hours/week'\n        },\n        {\n            id: '5',\n            title: 'Quantum Computing Algorithms for Optimization Problems',\n            description: 'This project explores how quantum computing can be applied to solve complex optimization problems that are computationally intensive for classical computers.',\n            faculty: 'Dr. Emily Rodriguez',\n            department: 'Physics',\n            skills: [\n                'Quantum Computing',\n                'Algorithm Design',\n                'Linear Algebra'\n            ],\n            duration: '6 months',\n            commitment: '20 hours/week'\n        }\n    ];\n};\n// Completely clear all data for a specific user (for account deletion or testing)\nconst purgeUserData = async (userId)=>{\n    try {\n        // Delete the user document from Firestore\n        const userDocRef = getUserDataRef(userId);\n        await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.setDoc)(userDocRef, {\n            userId,\n            savedProjects: [],\n            appliedProjects: [],\n            declinedProjects: [],\n            updatedAt: new Date().toISOString()\n        });\n        console.log(\"Purged all data for user: \".concat(userId, \" in Firestore\"));\n    } catch (error) {\n        console.error(\"Error purging data for user \".concat(userId, \":\"), error);\n    }\n};\n// Undo last action\nconst undoLastAction = async ()=>{\n    // In development, immediately return success\n    if (IS_DEV) {\n        console.log(\"Development mode: Simulating undo last action\");\n        const currentUser = _config_firebase__WEBPACK_IMPORTED_MODULE_0__.auth.currentUser;\n        if (!currentUser) {\n            console.error('Cannot undo last action: No authenticated user');\n            return {\n                success: false,\n                message: 'No authenticated user'\n            };\n        }\n        try {\n            // Instead of querying userActions collection which might not exist,\n            // we'll use a simpler approach for development mode\n            // Get all user action lists\n            const [savedProjectIds, appliedProjectIds, declinedProjectIds] = await Promise.all([\n                getUserDataFromFirestore(currentUser.uid, 'savedProjects', []),\n                getUserDataFromFirestore(currentUser.uid, 'appliedProjects', []),\n                getUserDataFromFirestore(currentUser.uid, 'declinedProjects', [])\n            ]);\n            // Get timestamps for the most recent actions (if they exist)\n            const [savedTimestamps, appliedTimestamps, declinedTimestamps] = await Promise.all([\n                getUserDataFromFirestore(currentUser.uid, 'savedProjectsTimestamps', {}),\n                getUserDataFromFirestore(currentUser.uid, 'appliedProjectsTimestamps', {}),\n                getUserDataFromFirestore(currentUser.uid, 'declinedProjectsTimestamps', {})\n            ]);\n            // Create a list of all actions with their timestamps\n            const actions = [];\n            // Add saved projects with timestamps\n            if (savedProjectIds.length > 0) {\n                const lastSavedId = savedProjectIds[savedProjectIds.length - 1];\n                const timestamp = savedTimestamps[lastSavedId] || new Date().toISOString(); // Fallback if no timestamp\n                actions.push({\n                    type: 'save',\n                    projectId: lastSavedId,\n                    timestamp\n                });\n            }\n            // Add applied projects with timestamps\n            if (appliedProjectIds.length > 0) {\n                const lastAppliedId = appliedProjectIds[appliedProjectIds.length - 1];\n                const timestamp = appliedTimestamps[lastAppliedId] || new Date().toISOString(); // Fallback if no timestamp\n                actions.push({\n                    type: 'apply',\n                    projectId: lastAppliedId,\n                    timestamp\n                });\n            }\n            // Add declined projects with timestamps\n            if (declinedProjectIds.length > 0) {\n                const lastDeclinedId = declinedProjectIds[declinedProjectIds.length - 1];\n                const timestamp = declinedTimestamps[lastDeclinedId] || new Date().toISOString(); // Fallback if no timestamp\n                actions.push({\n                    type: 'decline',\n                    projectId: lastDeclinedId,\n                    timestamp\n                });\n            }\n            // If no actions to undo\n            if (actions.length === 0) {\n                return {\n                    success: false,\n                    message: 'No actions to undo'\n                };\n            }\n            // Sort actions by timestamp (most recent first)\n            actions.sort((a, b)=>new Date(b.timestamp).getTime() - new Date(a.timestamp).getTime());\n            // Get the most recent action\n            const mostRecentAction = actions[0];\n            // Undo the most recent action based on its type\n            switch(mostRecentAction.type){\n                case 'save':\n                    // Remove from saved projects\n                    const updatedSavedProjects = savedProjectIds.filter((id)=>id !== mostRecentAction.projectId);\n                    await storeUserDataInFirestore(currentUser.uid, 'savedProjects', updatedSavedProjects);\n                    // Remove from timestamps\n                    const updatedSavedTimestamps = {\n                        ...savedTimestamps\n                    };\n                    delete updatedSavedTimestamps[mostRecentAction.projectId];\n                    await storeUserDataInFirestore(currentUser.uid, 'savedProjectsTimestamps', updatedSavedTimestamps);\n                    console.log(\"Undid save action for project \".concat(mostRecentAction.projectId));\n                    return {\n                        success: true,\n                        message: \"Successfully undid save action for project \".concat(mostRecentAction.projectId),\n                        undoneProjectId: mostRecentAction.projectId\n                    };\n                case 'apply':\n                    // Remove from applied projects\n                    const updatedAppliedProjects = appliedProjectIds.filter((id)=>id !== mostRecentAction.projectId);\n                    await storeUserDataInFirestore(currentUser.uid, 'appliedProjects', updatedAppliedProjects);\n                    // Remove from timestamps\n                    const updatedAppliedTimestamps = {\n                        ...appliedTimestamps\n                    };\n                    delete updatedAppliedTimestamps[mostRecentAction.projectId];\n                    await storeUserDataInFirestore(currentUser.uid, 'appliedProjectsTimestamps', updatedAppliedTimestamps);\n                    console.log(\"Undid apply action for project \".concat(mostRecentAction.projectId));\n                    return {\n                        success: true,\n                        message: \"Successfully undid apply action for project \".concat(mostRecentAction.projectId),\n                        undoneProjectId: mostRecentAction.projectId\n                    };\n                case 'decline':\n                    // Remove from declined projects\n                    const updatedDeclinedProjects = declinedProjectIds.filter((id)=>id !== mostRecentAction.projectId);\n                    await storeUserDataInFirestore(currentUser.uid, 'declinedProjects', updatedDeclinedProjects);\n                    // Remove from timestamps\n                    const updatedDeclinedTimestamps = {\n                        ...declinedTimestamps\n                    };\n                    delete updatedDeclinedTimestamps[mostRecentAction.projectId];\n                    await storeUserDataInFirestore(currentUser.uid, 'declinedProjectsTimestamps', updatedDeclinedTimestamps);\n                    console.log(\"Undid decline action for project \".concat(mostRecentAction.projectId));\n                    return {\n                        success: true,\n                        message: \"Successfully undid decline action for project \".concat(mostRecentAction.projectId),\n                        undoneProjectId: mostRecentAction.projectId\n                    };\n                default:\n                    return {\n                        success: false,\n                        message: 'Unknown action type'\n                    };\n            }\n        } catch (error) {\n            console.error(\"Error undoing last action:\", error);\n            return {\n                success: false,\n                message: 'Error undoing last action'\n            };\n        }\n    }\n    try {\n        const response = await axios__WEBPACK_IMPORTED_MODULE_3__[\"default\"].post(\"\".concat(API_URL, \"/connect/undo\"), {}, {\n            headers: getAuthHeaders()\n        });\n        return {\n            ...response.data,\n            undoneProjectId: response.data.undoneProjectId || undefined\n        };\n    } catch (error) {\n        console.error(\"Error undoing last action:\", error);\n        return {\n            success: false,\n            message: error instanceof Error ? error.message : 'Unknown error'\n        };\n    }\n};\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9zZXJ2aWNlcy9wcm9qZWN0c1NlcnZpY2UudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQzBCO0FBQ21CO0FBYWpCO0FBQzZDO0FBRXpFLE1BQU1TLFVBQVVDLG9EQUErQixJQUFJLENBQW9EO0FBQ3ZHLE1BQU1HLFNBQVNILEtBQ3NDLElBQ3JDLENBQXlFO0FBRXpGLHVEQUF1RDtBQUN2RCxNQUFNUSxpQkFBaUI7SUFDckIsTUFBTUMsUUFBUUMsYUFBYUMsT0FBTyxDQUFDO0lBQ25DLE9BQU87UUFDTEMsZUFBZUgsUUFBUSxVQUFnQixPQUFOQSxTQUFVO1FBQzNDLGdCQUFnQjtJQUNsQjtBQUNGO0FBRUEsNkJBQTZCO0FBQzdCLE1BQU1JLGlCQUFpQixDQUFDQztJQUN0QixPQUFPckIsdURBQUdBLENBQUNELGdEQUFFQSxFQUFFLFlBQVlzQjtBQUM3QjtBQUVBLCtCQUErQjtBQUMvQixNQUFNQywyQkFBMkIsT0FBVUQsUUFBZ0JFLE9BQWVDO0lBQ3hFLElBQUk7UUFDRixvQ0FBb0M7UUFDcEMsSUFBSSxDQUFDekIsZ0RBQUVBLEVBQUU7WUFDUDBCLFFBQVFDLEtBQUssQ0FBQztZQUNkLE9BQU9GO1FBQ1Q7UUFFQSxNQUFNRyxhQUFhUCxlQUFlQztRQUNsQyxNQUFNTyxVQUFVLE1BQU0zQiwwREFBTUEsQ0FBQzBCO1FBRTdCLElBQUlDLFFBQVFDLE1BQU0sTUFBTUQsUUFBUUUsSUFBSSxFQUFFLENBQUNQLE1BQU0sS0FBS1EsV0FBVztZQUMzRCxPQUFPSCxRQUFRRSxJQUFJLEVBQUUsQ0FBQ1AsTUFBTTtRQUM5QjtRQUVBLE9BQU9DO0lBQ1QsRUFBRSxPQUFPRSxPQUFPO1FBQ2RELFFBQVFDLEtBQUssQ0FBQyxpQkFBdUIsT0FBTkgsT0FBTSxxQkFBbUJHO1FBQ3hELE9BQU9GO0lBQ1Q7QUFDRjtBQUVBLCtCQUErQjtBQUMvQixNQUFNUSwyQkFBMkIsT0FBT1gsUUFBZ0JFLE9BQWVPO0lBQ3JFLElB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RCxNQUFNM0IseUJBQXlCNEIsWUFBWWpCLEdBQUcsRUFBRSw4QkFBOEI0RDtvQkFFOUU5RSxRQUFRYSxHQUFHLENBQUMsb0NBQStELE9BQTNCNkQsaUJBQWlCeEMsU0FBUztvQkFDMUUsT0FBTzt3QkFDTEwsU0FBUzt3QkFDVCtCLFNBQVMsaURBQTRFLE9BQTNCYyxpQkFBaUJ4QyxTQUFTO3dCQUNwRjBDLGlCQUFpQkYsaUJBQWlCeEMsU0FBUztvQkFDN0M7Z0JBRUY7b0JBQ0UsT0FBTzt3QkFBRUwsU0FBUzt3QkFBTytCLFNBQVM7b0JBQXNCO1lBQzVEO1FBQ0YsRUFBRSxPQUFPM0QsT0FBTztZQUNkRCxRQUFRQyxLQUFLLENBQUUsOEJBQTZCQTtZQUM1QyxPQUFPO2dCQUFFNEIsU0FBUztnQkFBTytCLFNBQVM7WUFBNEI7UUFDaEU7SUFDRjtJQUVBLElBQUk7UUFDRixNQUFNbEMsV0FBVyxNQUFNdEQsNkNBQUtBLENBQUNtRSxJQUFJLENBQUMsR0FBVyxPQUFSMUQsU0FBUSxrQkFBZ0IsQ0FBQyxHQUFHO1lBQy9EK0MsU0FBU3RDO1FBQ1g7UUFFQSxPQUFPO1lBQ0wsR0FBR29DLFNBQVNyQixJQUFJO1lBQ2hCdUUsaUJBQWlCbEQsU0FBU3JCLElBQUksQ0FBQ3VFLGVBQWUsSUFBSXRFO1FBQ3BEO0lBQ0YsRUFBRSxPQUFPTCxPQUFPO1FBQ2RELFFBQVFDLEtBQUssQ0FBRSw4QkFBNkJBO1FBQzVDLE9BQU87WUFDTDRCLFNBQVM7WUFDVCtCLFNBQVMzRCxpQkFBaUI4RSxRQUFROUUsTUFBTTJELE9BQU8sR0FBRztRQUNwRDtJQUNGO0FBQ0YsRUFBRSIsInNvdXJjZXMiOlsiL1VzZXJzL2FsZXhoc3UvRGVza3RvcC9mcnVpdGJveS9mcnVpdGlvbi9mcm9udGVuZC9zcmMvc2VydmljZXMvcHJvamVjdHNTZXJ2aWNlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFByb2plY3QgfSBmcm9tICdAL3R5cGVzL3Byb2plY3QnO1xuaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJztcbmltcG9ydCB7IGF1dGgsIGRiIH0gZnJvbSAnQC9jb25maWcvZmlyZWJhc2UnO1xuaW1wb3J0IHsgXG4gIGRvYywgXG4gIGdldERvYywgXG4gIHNldERvYywgXG4gIHVwZGF0ZURvYyxcbiAgY29sbGVjdGlvbixcbiAgcXVlcnksXG4gIHdoZXJlLFxuICBnZXREb2NzLFxuICBvcmRlckJ5LFxuICBsaW1pdCxcbiAgYWRkRG9jXG59IGZyb20gJ2ZpcmViYXNlL2ZpcmVzdG9yZSc7XG5pbXBvcnQgeyBnZXRDdXJyZW50VXNlciwgaXNBdXRoZW50aWNhdGVkIH0gZnJvbSAnQC9zZXJ2aWNlcy9hdXRoU2VydmljZSc7XG5cbmNvbnN0IEFQSV9VUkwgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19BUElfVVJMIHx8ICdodHRwOi8vbG9jYWxob3N0OjUwMDEvZnJ1aXRpb24tZGV2L3VzLWNlbnRyYWwxL2FwaSc7XG5jb25zdCBJU19ERVYgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19JU19ERVZFTE9QTUVOVCA9PT0gJ3RydWUnIHx8IFxuICAgICAgICAgICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcgfHwgXG4gICAgICAgICAgICAgICAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LmxvY2F0aW9uLmhvc3RuYW1lID09PSAnbG9jYWxob3N0Jyk7XG5cbi8vIEhlbHBlciBmdW5jdGlvbiB0byBnZXQgYXV0aCBoZWFkZXJzIGZvciBBUEkgcmVxdWVzdHNcbmNvbnN0IGdldEF1dGhIZWFkZXJzID0gKCkgPT4ge1xuICBjb25zdCB0b2tlbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdhdXRoVG9rZW4nKTtcbiAgcmV0dXJuIHtcbiAgICBBdXRob3JpemF0aW9uOiB0b2tlbiA/IGBCZWFyZXIgJHt0b2tlbn1gIDogJycsXG4gICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xuICB9O1xufTtcblxuLy8gRmlyZXN0b3JlIGhlbHBlciBmdW5jdGlvbnNcbmNvbnN0IGdldFVzZXJEYXRhUmVmID0gKHVzZXJJZDogc3RyaW5nKSA9PiB7XG4gIHJldHVybiBkb2MoZGIsICd1c2VyRGF0YScsIHVzZXJJZCk7XG59O1xuXG4vLyBHZXQgdXNlciBkYXRhIGZyb20gRmlyZXN0b3JlXG5jb25zdCBnZXRVc2VyRGF0YUZyb21GaXJlc3RvcmUgPSBhc3luYyA8VD4odXNlcklkOiBzdHJpbmcsIGZpZWxkOiBzdHJpbmcsIGRlZmF1bHRWYWx1ZTogVCk6IFByb21pc2U8VD4gPT4ge1xuICB0cnkge1xuICAgIC8vIENoZWNrIGlmIEZpcmVzdG9yZSBpcyBpbml0aWFsaXplZFxuICAgIGlmICghZGIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZpcmVzdG9yZSBub3QgaW5pdGlhbGl6ZWQnKTtcbiAgICAgIHJldHVybiBkZWZhdWx0VmFsdWU7XG4gICAgfVxuICAgIFxuICAgIGNvbnN0IHVzZXJEb2NSZWYgPSBnZXRVc2VyRGF0YVJlZih1c2VySWQpO1xuICAgIGNvbnN0IHVzZXJEb2MgPSBhd2FpdCBnZXREb2ModXNlckRvY1JlZik7XG4gICAgXG4gICAgaWYgKHVzZXJEb2MuZXhpc3RzKCkgJiYgdXNlckRvYy5kYXRhKClbZmllbGRdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiB1c2VyRG9jLmRhdGEoKVtmaWVsZF0gYXMgVDtcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIGRlZmF1bHRWYWx1ZTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKGBFcnJvciBnZXR0aW5nICR7ZmllbGR9IGZyb20gRmlyZXN0b3JlOmAsIGVycm9yKTtcbiAgICByZXR1cm4gZGVmYXVsdFZhbHVlO1xuICB9XG59O1xuXG4vLyBTdG9yZSB1c2VyIGRhdGEgaW4gRmlyZXN0b3JlXG5jb25zdCBzdG9yZVVzZXJEYXRhSW5GaXJlc3RvcmUgPSBhc3luYyAodXNlcklkOiBzdHJpbmcsIGZpZWxkOiBzdHJpbmcsIGRhdGE6IGFueSk6IFByb21pc2U8dm9pZD4gPT4ge1xuICB0cnkge1xuICAgIC8vIENoZWNrIGlmIEZpcmVzdG9yZSBpcyBpbml0aWFsaXplZFxuICAgIGlmICghZGIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZpcmVzdG9yZSBub3QgaW5pdGlhbGl6ZWQnKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgY29uc3QgdXNlckRvY1JlZiA9IGdldFVzZXJEYXRhUmVmKHVzZXJJZCk7XG4gICAgY29uc3QgdXNlckRvYyA9IGF3YWl0IGdldERvYyh1c2VyRG9jUmVmKTtcbiAgICBcbiAgICBpZiAodXNlckRvYy5leGlzdHMoKSkge1xuICAgICAgLy8gVXBkYXRlIGV4aXN0aW5nIGRvY3VtZW50XG4gICAgICBhd2FpdCB1cGRhdGVEb2ModXNlckRvY1JlZiwge1xuICAgICAgICBbZmllbGRdOiBkYXRhLFxuICAgICAgICB1cGRhdGVkQXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIENyZWF0ZSBuZXcgZG9jdW1lbnRcbiAgICAgIGF3YWl0IHNldERvYyh1c2VyRG9jUmVmLCB7XG4gICAgICAgIHVzZXJJZCxcbiAgICAgICAgW2ZpZWxkXTogZGF0YSxcbiAgICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgICB9KTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihgRXJyb3Igc3RvcmluZyAke2ZpZWxkfSBpbiBGaXJlc3RvcmU6YCwgZXJyb3IpO1xuICAgIHRocm93IGVycm9yOyAvLyBSZXRocm93IHRvIGFsbG93IGhhbmRsaW5nIGJ5IHRoZSBjYWxsZXJcbiAgfVxufTtcblxuLy8gR2V0IHByb2plY3RzIGZyb20gdGhlIEFQSVxuZXhwb3J0IGNvbnN0IGdldFByb2plY3RzID0gYXN5bmMgKCk6IFByb21pc2U8UHJvamVjdFtdPiA9PiB7XG4gIC8vIEluIGRldmVsb3BtZW50LCBpbW1lZGlhdGVseSByZXR1cm4gc2FtcGxlIGRhdGFcbiAgaWYgKElTX0RFVikge1xuICAgIGNvbnNvbGUubG9nKCdEZXZlbG9wbWVudCBtb2RlOiBVc2luZyBzYW1wbGUgcHJvamVjdHMgZGF0YScpO1xuICAgIFxuICAgIC8vIFVzZSB0cnktY2F0Y2ggdG8gaGFuZGxlIHBvdGVudGlhbCBhdXRoIHN0YXRlIGlzc3Vlc1xuICAgIHRyeSB7XG4gICAgICAvLyBXYWl0IGZvciBhdXRoIHRvIGJlIGluaXRpYWxpemVkXG4gICAgICBjb25zdCBhdXRoZW50aWNhdGVkID0gYXdhaXQgaXNBdXRoZW50aWNhdGVkKCk7XG4gICAgICBpZiAoIWF1dGhlbnRpY2F0ZWQpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ05vIGF1dGhlbnRpY2F0ZWQgdXNlciwgcmV0dXJuaW5nIGFsbCBzYW1wbGUgcHJvamVjdHMnKTtcbiAgICAgICAgcmV0dXJuIGdldFNhbXBsZVByb2plY3RzKCk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBnZXRDdXJyZW50VXNlcigpO1xuICAgICAgaWYgKCF1c2VyKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdObyBhdXRoZW50aWNhdGVkIHVzZXIgYWZ0ZXIgY2hlY2ssIHJldHVybmluZyBhbGwgc2FtcGxlIHByb2plY3RzJyk7XG4gICAgICAgIHJldHVybiBnZXRTYW1wbGVQcm9qZWN0cygpO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBHZXQgc2F2ZWQsIGFwcGxpZWQsIGFuZCBkZWNsaW5lZCBwcm9qZWN0IElEcyBmcm9tIEZpcmVzdG9yZVxuICAgICAgY29uc3Qgc2F2ZWRQcm9qZWN0SWRzID0gYXdhaXQgZ2V0VXNlckRhdGFGcm9tRmlyZXN0b3JlPHN0cmluZ1tdPih1c2VyLnVpZCwgJ3NhdmVkUHJvamVjdHMnLCBbXSk7XG4gICAgICBjb25zdCBhcHBsaWVkUHJvamVjdElkcyA9IGF3YWl0IGdldFVzZXJEYXRhRnJvbUZpcmVzdG9yZTxzdHJpbmdbXT4odXNlci51aWQsICdhcHBsaWVkUHJvamVjdHMnLCBbXSk7XG4gICAgICBjb25zdCBkZWNsaW5lZFByb2plY3RJZHMgPSBhd2FpdCBnZXRVc2VyRGF0YUZyb21GaXJlc3RvcmU8c3RyaW5nW10+KHVzZXIudWlkLCAnZGVjbGluZWRQcm9qZWN0cycsIFtdKTtcbiAgICAgIFxuICAgICAgY29uc3QgZXhjbHVkZWRJZHMgPSBbLi4uc2F2ZWRQcm9qZWN0SWRzLCAuLi5hcHBsaWVkUHJvamVjdElkcywgLi4uZGVjbGluZWRQcm9qZWN0SWRzXTtcbiAgICAgIFxuICAgICAgLy8gRmlsdGVyIG91dCBwcm9qZWN0cyB0aGF0IGFyZSBhbHJlYWR5IHNhdmVkLCBhcHBsaWVkLCBvciBkZWNsaW5lZFxuICAgICAgcmV0dXJuIGdldFNhbXBsZVByb2plY3RzKCkuZmlsdGVyKHByb2plY3QgPT4gIWV4Y2x1ZGVkSWRzLmluY2x1ZGVzKHByb2plY3QuaWQpKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgdXNlciBkYXRhIGZyb20gRmlyZXN0b3JlOicsIGVycm9yKTtcbiAgICAgIFxuICAgICAgLy8gRmFsbGJhY2sgdG8gYWxsIHNhbXBsZSBwcm9qZWN0cyBpZiBGaXJlc3RvcmUgZmFpbHNcbiAgICAgIHJldHVybiBnZXRTYW1wbGVQcm9qZWN0cygpO1xuICAgIH1cbiAgfVxuXG4gIC8vIFByb2R1Y3Rpb24gQVBJIGNhbGwgbG9naWNcbiAgdHJ5IHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGF4aW9zLmdldChgJHtBUElfVVJMfS9jb25uZWN0L3JlY29tbWVuZGVkYCwge1xuICAgICAgaGVhZGVyczogZ2V0QXV0aEhlYWRlcnMoKVxuICAgIH0pO1xuICAgIFxuICAgIGlmIChyZXNwb25zZS5kYXRhLnN1Y2Nlc3MpIHtcbiAgICAgIHJldHVybiByZXNwb25zZS5kYXRhLmRhdGEgfHwgW107XG4gICAgfVxuICAgIFxuICAgIC8vIEZhbGxiYWNrIHRvIHNhbXBsZSBkYXRhIGlmIHRoZSBBUEkgZG9lc24ndCByZXR1cm4gYW55IHByb2plY3RzXG4gICAgcmV0dXJuIGdldFNhbXBsZVByb2plY3RzKCk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgcHJvamVjdHM6JywgZXJyb3IpO1xuICAgIC8vIEZhbGxiYWNrIHRvIHNhbXBsZSBkYXRhIGlmIHRoZSBBUEkgY2FsbCBmYWlsc1xuICAgIHJldHVybiBnZXRTYW1wbGVQcm9qZWN0cygpO1xuICB9XG59O1xuXG4vLyBHZXQgc2F2ZWQgcHJvamVjdHMgZnJvbSB0aGUgQVBJXG5leHBvcnQgY29uc3QgZ2V0U2F2ZWRQcm9qZWN0cyA9IGFzeW5jICgpOiBQcm9taXNlPFByb2plY3RbXT4gPT4ge1xuICAvLyBJbiBkZXZlbG9wbWVudCwgaW1tZWRpYXRlbHkgcmV0dXJuIHNhbXBsZSBkYXRhXG4gIGlmIChJU19ERVYpIHtcbiAgICBjb25zb2xlLmxvZygnRGV2ZWxvcG1lbnQgbW9kZTogVXNpbmcgc2FtcGxlIHNhdmVkIHByb2plY3RzIGRhdGEnKTtcbiAgICBcbiAgICAvLyBVc2UgdHJ5LWNhdGNoIHRvIGhhbmRsZSBwb3RlbnRpYWwgYXV0aCBzdGF0ZSBpc3N1ZXNcbiAgICB0cnkge1xuICAgICAgLy8gV2FpdCBmb3IgYXV0aCB0byBiZSBpbml0aWFsaXplZFxuICAgICAgY29uc3QgYXV0aGVudGljYXRlZCA9IGF3YWl0IGlzQXV0aGVudGljYXRlZCgpO1xuICAgICAgaWYgKCFhdXRoZW50aWNhdGVkKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdObyBhdXRoZW50aWNhdGVkIHVzZXIsIHJldHVybmluZyBlbXB0eSBzYXZlZCBwcm9qZWN0cycpO1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICBcbiAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBnZXRDdXJyZW50VXNlcigpO1xuICAgICAgaWYgKCF1c2VyKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdObyBhdXRoZW50aWNhdGVkIHVzZXIgYWZ0ZXIgY2hlY2ssIHJldHVybmluZyBlbXB0eSBzYXZlZCBwcm9qZWN0cycpO1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIEdldCBzYXZlZCBwcm9qZWN0IElEcyBmcm9tIEZpcmVzdG9yZVxuICAgICAgY29uc3Qgc2F2ZWRQcm9qZWN0SWRzID0gYXdhaXQgZ2V0VXNlckRhdGFGcm9tRmlyZXN0b3JlPHN0cmluZ1tdPih1c2VyLnVpZCwgJ3NhdmVkUHJvamVjdHMnLCBbXSk7XG4gICAgICBjb25zb2xlLmxvZygnU2F2ZWQgcHJvamVjdCBJRHM6Jywgc2F2ZWRQcm9qZWN0SWRzKTtcbiAgICAgIFxuICAgICAgLy8gUmV0dXJuIHByb2plY3RzIHdpdGggdGhlc2UgSURzXG4gICAgICByZXR1cm4gZ2V0U2FtcGxlUHJvamVjdHMoKVxuICAgICAgICAuZmlsdGVyKHByb2plY3QgPT4gc2F2ZWRQcm9qZWN0SWRzLmluY2x1ZGVzKHByb2plY3QuaWQpKVxuICAgICAgICAubWFwKHByb2plY3QgPT4gKHtcbiAgICAgICAgICAuLi5wcm9qZWN0LFxuICAgICAgICAgIGlkOiBgc2F2ZWRfJHtwcm9qZWN0LmlkfWAgLy8gRW5zdXJlIHVuaXF1ZSBJRHMgZm9yIFJlYWN0IGtleXNcbiAgICAgICAgfSkpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBzYXZlZCBwcm9qZWN0cyBmcm9tIEZpcmVzdG9yZTonLCBlcnJvcik7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuICB9XG5cbiAgLy8gUHJvZHVjdGlvbiBBUEkgY2FsbCBsb2dpY1xuICB0cnkge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXhpb3MuZ2V0KGAke0FQSV9VUkx9L2Nvbm5lY3Qvc2F2ZWRgLCB7XG4gICAgICBoZWFkZXJzOiBnZXRBdXRoSGVhZGVycygpXG4gICAgfSk7XG4gICAgXG4gICAgaWYgKHJlc3BvbnNlLmRhdGEuc3VjY2Vzcykge1xuICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGEuZGF0YSB8fCBbXTtcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIFtdO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIHNhdmVkIHByb2plY3RzOicsIGVycm9yKTtcbiAgICByZXR1cm4gW107XG4gIH1cbn07XG5cbi8vIEdldCBhcHBsaWVkIHByb2plY3RzIGZyb20gdGhlIEFQSVxuZXhwb3J0IGNvbnN0IGdldEFwcGxpZWRQcm9qZWN0cyA9IGFzeW5jICgpOiBQcm9taXNlPFByb2plY3RbXT4gPT4ge1xuICAvLyBJbiBkZXZlbG9wbWVudCwgaW1tZWRpYXRlbHkgcmV0dXJuIHNhbXBsZSBkYXRhXG4gIGlmIChJU19ERVYpIHtcbiAgICBjb25zb2xlLmxvZygnRGV2ZWxvcG1lbnQgbW9kZTogVXNpbmcgc2FtcGxlIGFwcGxpZWQgcHJvamVjdHMgZGF0YScpO1xuICAgIFxuICAgIC8vIFVzZSB0cnktY2F0Y2ggdG8gaGFuZGxlIHBvdGVudGlhbCBhdXRoIHN0YXRlIGlzc3Vlc1xuICAgIHRyeSB7XG4gICAgICAvLyBXYWl0IGZvciBhdXRoIHRvIGJlIGluaXRpYWxpemVkXG4gICAgICBjb25zdCBhdXRoZW50aWNhdGVkID0gYXdhaXQgaXNBdXRoZW50aWNhdGVkKCk7XG4gICAgICBpZiAoIWF1dGhlbnRpY2F0ZWQpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ05vIGF1dGhlbnRpY2F0ZWQgdXNlciwgcmV0dXJuaW5nIGVtcHR5IGFwcGxpZWQgcHJvamVjdHMnKTtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgXG4gICAgICBjb25zdCB1c2VyID0gYXdhaXQgZ2V0Q3VycmVudFVzZXIoKTtcbiAgICAgIGlmICghdXNlcikge1xuICAgICAgICBjb25zb2xlLmxvZygnTm8gYXV0aGVudGljYXRlZCB1c2VyIGFmdGVyIGNoZWNrLCByZXR1cm5pbmcgZW1wdHkgYXBwbGllZCBwcm9qZWN0cycpO1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIEdldCBhcHBsaWVkIHByb2plY3QgSURzIGZyb20gRmlyZXN0b3JlXG4gICAgICBjb25zdCBhcHBsaWVkUHJvamVjdElkcyA9IGF3YWl0IGdldFVzZXJEYXRhRnJvbUZpcmVzdG9yZTxzdHJpbmdbXT4odXNlci51aWQsICdhcHBsaWVkUHJvamVjdHMnLCBbXSk7XG4gICAgICBjb25zb2xlLmxvZygnQXBwbGllZCBwcm9qZWN0IElEczonLCBhcHBsaWVkUHJvamVjdElkcyk7XG4gICAgICBcbiAgICAgIC8vIFJldHVybiBwcm9qZWN0cyB3aXRoIHRoZXNlIElEc1xuICAgICAgcmV0dXJuIGdldFNhbXBsZVByb2plY3RzKClcbiAgICAgICAgLmZpbHRlcihwcm9qZWN0ID0+IGFwcGxpZWRQcm9qZWN0SWRzLmluY2x1ZGVzKHByb2plY3QuaWQpKVxuICAgICAgICAubWFwKHByb2plY3QgPT4gKHtcbiAgICAgICAgICAuLi5wcm9qZWN0LFxuICAgICAgICAgIGlkOiBgYXBwbGllZF8ke3Byb2plY3QuaWR9YCAvLyBFbnN1cmUgdW5pcXVlIElEcyBmb3IgUmVhY3Qga2V5c1xuICAgICAgICB9KSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIGFwcGxpZWQgcHJvamVjdHMgZnJvbSBGaXJlc3RvcmU6JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgfVxuXG4gIC8vIFByb2R1Y3Rpb24gQVBJIGNhbGwgbG9naWNcbiAgdHJ5IHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGF4aW9zLmdldChgJHtBUElfVVJMfS9jb25uZWN0L2FwcGxpZWRgLCB7XG4gICAgICBoZWFkZXJzOiBnZXRBdXRoSGVhZGVycygpXG4gICAgfSk7XG4gICAgXG4gICAgaWYgKHJlc3BvbnNlLmRhdGEuc3VjY2Vzcykge1xuICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGEuZGF0YSB8fCBbXTtcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIFtdO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIGFwcGxpZWQgcHJvamVjdHM6JywgZXJyb3IpO1xuICAgIHJldHVybiBbXTtcbiAgfVxufTtcblxuLy8gQXBwbHkgdG8gYSBwcm9qZWN0XG5leHBvcnQgY29uc3QgYXBwbHlUb1Byb2plY3QgPSBhc3luYyAocHJvamVjdElkOiBzdHJpbmcpOiBQcm9taXNlPGJvb2xlYW4+ID0+IHtcbiAgLy8gSW4gZGV2ZWxvcG1lbnQsIGltbWVkaWF0ZWx5IHJldHVybiBzdWNjZXNzXG4gIGlmIChJU19ERVYpIHtcbiAgICBjb25zb2xlLmxvZyhgRGV2ZWxvcG1lbnQgbW9kZTogU2ltdWxhdGluZyBhcHBseSB0byBwcm9qZWN0ICR7cHJvamVjdElkfWApO1xuICAgIFxuICAgIGNvbnN0IGN1cnJlbnRVc2VyID0gYXV0aC5jdXJyZW50VXNlcjtcbiAgICBpZiAoIWN1cnJlbnRVc2VyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdDYW5ub3QgYXBwbHkgdG8gcHJvamVjdDogTm8gYXV0aGVudGljYXRlZCB1c2VyJyk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIFxuICAgIHRyeSB7XG4gICAgICAvLyBHZXQgY3VycmVudCBhcHBsaWVkIHByb2plY3RzXG4gICAgICBjb25zdCBhcHBsaWVkUHJvamVjdElkcyA9IGF3YWl0IGdldFVzZXJEYXRhRnJvbUZpcmVzdG9yZTxzdHJpbmdbXT4oY3VycmVudFVzZXIudWlkLCAnYXBwbGllZFByb2plY3RzJywgW10pO1xuICAgICAgXG4gICAgICAvLyBPbmx5IGFkZCBpZiBub3QgYWxyZWFkeSBpbiB0aGUgbGlzdFxuICAgICAgaWYgKCFhcHBsaWVkUHJvamVjdElkcy5pbmNsdWRlcyhwcm9qZWN0SWQpKSB7XG4gICAgICAgIGNvbnN0IHVwZGF0ZWRBcHBsaWVkUHJvamVjdHMgPSBbLi4uYXBwbGllZFByb2plY3RJZHMsIHByb2plY3RJZF07XG4gICAgICAgIFxuICAgICAgICAvLyBTdG9yZSBpbiBGaXJlc3RvcmVcbiAgICAgICAgYXdhaXQgc3RvcmVVc2VyRGF0YUluRmlyZXN0b3JlKGN1cnJlbnRVc2VyLnVpZCwgJ2FwcGxpZWRQcm9qZWN0cycsIHVwZGF0ZWRBcHBsaWVkUHJvamVjdHMpO1xuICAgICAgICBcbiAgICAgICAgLy8gU3RvcmUgdGltZXN0YW1wIGZvciB0aGlzIGFjdGlvblxuICAgICAgICBjb25zdCB0aW1lc3RhbXAgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XG4gICAgICAgIGNvbnN0IGFwcGxpZWRUaW1lc3RhbXBzID0gYXdhaXQgZ2V0VXNlckRhdGFGcm9tRmlyZXN0b3JlPFJlY29yZDxzdHJpbmcsIHN0cmluZz4+KFxuICAgICAgICAgIGN1cnJlbnRVc2VyLnVpZCwgXG4gICAgICAgICAgJ2FwcGxpZWRQcm9qZWN0c1RpbWVzdGFtcHMnLCBcbiAgICAgICAgICB7fVxuICAgICAgICApO1xuICAgICAgICBhcHBsaWVkVGltZXN0YW1wc1twcm9qZWN0SWRdID0gdGltZXN0YW1wO1xuICAgICAgICBhd2FpdCBzdG9yZVVzZXJEYXRhSW5GaXJlc3RvcmUoY3VycmVudFVzZXIudWlkLCAnYXBwbGllZFByb2plY3RzVGltZXN0YW1wcycsIGFwcGxpZWRUaW1lc3RhbXBzKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIGFwcGx5aW5nIHRvIHByb2plY3QgJHtwcm9qZWN0SWR9OmAsIGVycm9yKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICB0cnkge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXhpb3MucG9zdChgJHtBUElfVVJMfS9jb25uZWN0L2FwcGx5LyR7cHJvamVjdElkfWAsIHt9LCB7XG4gICAgICBoZWFkZXJzOiBnZXRBdXRoSGVhZGVycygpXG4gICAgfSk7XG4gICAgXG4gICAgcmV0dXJuIHJlc3BvbnNlLmRhdGEuc3VjY2VzcyB8fCBmYWxzZTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKGBFcnJvciBhcHBseWluZyB0byBwcm9qZWN0ICR7cHJvamVjdElkfTpgLCBlcnJvcik7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59O1xuXG4vLyBTYXZlIGEgcHJvamVjdFxuZXhwb3J0IGNvbnN0IHNhdmVQcm9qZWN0ID0gYXN5bmMgKHByb2plY3RJZDogc3RyaW5nKTogUHJvbWlzZTxib29sZWFuPiA9PiB7XG4gIC8vIEluIGRldmVsb3BtZW50LCBpbW1lZGlhdGVseSByZXR1cm4gc3VjY2Vzc1xuICBpZiAoSVNfREVWKSB7XG4gICAgY29uc29sZS5sb2coYERldmVsb3BtZW50IG1vZGU6IFNpbXVsYXRpbmcgc2F2ZSBwcm9qZWN0ICR7cHJvamVjdElkfWApO1xuICAgIFxuICAgIGNvbnN0IGN1cnJlbnRVc2VyID0gYXV0aC5jdXJyZW50VXNlcjtcbiAgICBpZiAoIWN1cnJlbnRVc2VyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdDYW5ub3Qgc2F2ZSBwcm9qZWN0OiBObyBhdXRoZW50aWNhdGVkIHVzZXInKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgXG4gICAgdHJ5IHtcbiAgICAgIC8vIEdldCBjdXJyZW50IHNhdmVkIHByb2plY3RzXG4gICAgICBjb25zdCBzYXZlZFByb2plY3RJZHMgPSBhd2FpdCBnZXRVc2VyRGF0YUZyb21GaXJlc3RvcmU8c3RyaW5nW10+KGN1cnJlbnRVc2VyLnVpZCwgJ3NhdmVkUHJvamVjdHMnLCBbXSk7XG4gICAgICBcbiAgICAgIC8vIE9ubHkgYWRkIGlmIG5vdCBhbHJlYWR5IGluIHRoZSBsaXN0XG4gICAgICBpZiAoIXNhdmVkUHJvamVjdElkcy5pbmNsdWRlcyhwcm9qZWN0SWQpKSB7XG4gICAgICAgIGNvbnN0IHVwZGF0ZWRTYXZlZFByb2plY3RzID0gWy4uLnNhdmVkUHJvamVjdElkcywgcHJvamVjdElkXTtcbiAgICAgICAgXG4gICAgICAgIC8vIFN0b3JlIGluIEZpcmVzdG9yZVxuICAgICAgICBhd2FpdCBzdG9yZVVzZXJEYXRhSW5GaXJlc3RvcmUoY3VycmVudFVzZXIudWlkLCAnc2F2ZWRQcm9qZWN0cycsIHVwZGF0ZWRTYXZlZFByb2plY3RzKTtcbiAgICAgICAgXG4gICAgICAgIC8vIFN0b3JlIHRpbWVzdGFtcCBmb3IgdGhpcyBhY3Rpb25cbiAgICAgICAgY29uc3QgdGltZXN0YW1wID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpO1xuICAgICAgICBjb25zdCBzYXZlZFRpbWVzdGFtcHMgPSBhd2FpdCBnZXRVc2VyRGF0YUZyb21GaXJlc3RvcmU8UmVjb3JkPHN0cmluZywgc3RyaW5nPj4oXG4gICAgICAgICAgY3VycmVudFVzZXIudWlkLCBcbiAgICAgICAgICAnc2F2ZWRQcm9qZWN0c1RpbWVzdGFtcHMnLCBcbiAgICAgICAgICB7fVxuICAgICAgICApO1xuICAgICAgICBzYXZlZFRpbWVzdGFtcHNbcHJvamVjdElkXSA9IHRpbWVzdGFtcDtcbiAgICAgICAgYXdhaXQgc3RvcmVVc2VyRGF0YUluRmlyZXN0b3JlKGN1cnJlbnRVc2VyLnVpZCwgJ3NhdmVkUHJvamVjdHNUaW1lc3RhbXBzJywgc2F2ZWRUaW1lc3RhbXBzKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIHNhdmluZyBwcm9qZWN0ICR7cHJvamVjdElkfTpgLCBlcnJvcik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgdHJ5IHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGF4aW9zLnBvc3QoYCR7QVBJX1VSTH0vY29ubmVjdC9zYXZlLyR7cHJvamVjdElkfWAsIHt9LCB7XG4gICAgICBoZWFkZXJzOiBnZXRBdXRoSGVhZGVycygpXG4gICAgfSk7XG4gICAgXG4gICAgcmV0dXJuIHJlc3BvbnNlLmRhdGEuc3VjY2VzcyB8fCBmYWxzZTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKGBFcnJvciBzYXZpbmcgcHJvamVjdCAke3Byb2plY3RJZH06YCwgZXJyb3IpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufTtcblxuLy8gRGVjbGluZSBhIHByb2plY3RcbmV4cG9ydCBjb25zdCBkZWNsaW5lUHJvamVjdCA9IGFzeW5jIChwcm9qZWN0SWQ6IHN0cmluZyk6IFByb21pc2U8Ym9vbGVhbj4gPT4ge1xuICAvLyBJbiBkZXZlbG9wbWVudCwgaW1tZWRpYXRlbHkgcmV0dXJuIHN1Y2Nlc3NcbiAgaWYgKElTX0RFVikge1xuICAgIGNvbnNvbGUubG9nKGBEZXZlbG9wbWVudCBtb2RlOiBTaW11bGF0aW5nIGRlY2xpbmUgcHJvamVjdCAke3Byb2plY3RJZH1gKTtcbiAgICBcbiAgICBjb25zdCBjdXJyZW50VXNlciA9IGF1dGguY3VycmVudFVzZXI7XG4gICAgaWYgKCFjdXJyZW50VXNlcikge1xuICAgICAgY29uc29sZS5lcnJvcignQ2Fubm90IGRlY2xpbmUgcHJvamVjdDogTm8gYXV0aGVudGljYXRlZCB1c2VyJyk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIFxuICAgIHRyeSB7XG4gICAgICAvLyBHZXQgY3VycmVudCBkZWNsaW5lZCBwcm9qZWN0c1xuICAgICAgY29uc3QgZGVjbGluZWRQcm9qZWN0SWRzID0gYXdhaXQgZ2V0VXNlckRhdGFGcm9tRmlyZXN0b3JlPHN0cmluZ1tdPihjdXJyZW50VXNlci51aWQsICdkZWNsaW5lZFByb2plY3RzJywgW10pO1xuICAgICAgXG4gICAgICAvLyBPbmx5IGFkZCBpZiBub3QgYWxyZWFkeSBpbiB0aGUgbGlzdFxuICAgICAgaWYgKCFkZWNsaW5lZFByb2plY3RJZHMuaW5jbHVkZXMocHJvamVjdElkKSkge1xuICAgICAgICBjb25zdCB1cGRhdGVkRGVjbGluZWRQcm9qZWN0cyA9IFsuLi5kZWNsaW5lZFByb2plY3RJZHMsIHByb2plY3RJZF07XG4gICAgICAgIFxuICAgICAgICAvLyBTdG9yZSBpbiBGaXJlc3RvcmVcbiAgICAgICAgYXdhaXQgc3RvcmVVc2VyRGF0YUluRmlyZXN0b3JlKGN1cnJlbnRVc2VyLnVpZCwgJ2RlY2xpbmVkUHJvamVjdHMnLCB1cGRhdGVkRGVjbGluZWRQcm9qZWN0cyk7XG4gICAgICAgIFxuICAgICAgICAvLyBTdG9yZSB0aW1lc3RhbXAgZm9yIHRoaXMgYWN0aW9uXG4gICAgICAgIGNvbnN0IHRpbWVzdGFtcCA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTtcbiAgICAgICAgY29uc3QgZGVjbGluZWRUaW1lc3RhbXBzID0gYXdhaXQgZ2V0VXNlckRhdGFGcm9tRmlyZXN0b3JlPFJlY29yZDxzdHJpbmcsIHN0cmluZz4+KFxuICAgICAgICAgIGN1cnJlbnRVc2VyLnVpZCwgXG4gICAgICAgICAgJ2RlY2xpbmVkUHJvamVjdHNUaW1lc3RhbXBzJywgXG4gICAgICAgICAge31cbiAgICAgICAgKTtcbiAgICAgICAgZGVjbGluZWRUaW1lc3RhbXBzW3Byb2plY3RJZF0gPSB0aW1lc3RhbXA7XG4gICAgICAgIGF3YWl0IHN0b3JlVXNlckRhdGFJbkZpcmVzdG9yZShjdXJyZW50VXNlci51aWQsICdkZWNsaW5lZFByb2plY3RzVGltZXN0YW1wcycsIGRlY2xpbmVkVGltZXN0YW1wcyk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGBFcnJvciBkZWNsaW5pbmcgcHJvamVjdCAke3Byb2plY3RJZH06YCwgZXJyb3IpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIHRyeSB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBheGlvcy5wb3N0KGAke0FQSV9VUkx9L2Nvbm5lY3QvZGVjbGluZS8ke3Byb2plY3RJZH1gLCB7fSwge1xuICAgICAgaGVhZGVyczogZ2V0QXV0aEhlYWRlcnMoKVxuICAgIH0pO1xuICAgIFxuICAgIHJldHVybiByZXNwb25zZS5kYXRhLnN1Y2Nlc3MgfHwgZmFsc2U7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihgRXJyb3IgZGVjbGluaW5nIHByb2plY3QgJHtwcm9qZWN0SWR9OmAsIGVycm9yKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn07XG5cbi8vIFJlbW92ZSBhIHNhdmVkIHByb2plY3RcbmV4cG9ydCBjb25zdCByZW1vdmVQcm9qZWN0ID0gYXN5bmMgKHByb2plY3RJZDogc3RyaW5nKTogUHJvbWlzZTxib29sZWFuPiA9PiB7XG4gIC8vIEluIGRldmVsb3BtZW50LCBpbW1lZGlhdGVseSByZXR1cm4gc3VjY2Vzc1xuICBpZiAoSVNfREVWKSB7XG4gICAgY29uc29sZS5sb2coYERldmVsb3BtZW50IG1vZGU6IFNpbXVsYXRpbmcgcmVtb3ZlIHByb2plY3QgJHtwcm9qZWN0SWR9YCk7XG4gICAgXG4gICAgY29uc3QgY3VycmVudFVzZXIgPSBhdXRoLmN1cnJlbnRVc2VyO1xuICAgIGlmICghY3VycmVudFVzZXIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Nhbm5vdCByZW1vdmUgcHJvamVjdDogTm8gYXV0aGVudGljYXRlZCB1c2VyJyk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIFxuICAgIHRyeSB7XG4gICAgICAvLyBHZXQgY3VycmVudCBzYXZlZCBwcm9qZWN0c1xuICAgICAgY29uc3Qgc2F2ZWRQcm9qZWN0SWRzID0gYXdhaXQgZ2V0VXNlckRhdGFGcm9tRmlyZXN0b3JlPHN0cmluZ1tdPihjdXJyZW50VXNlci51aWQsICdzYXZlZFByb2plY3RzJywgW10pO1xuICAgICAgXG4gICAgICAvLyBPbmx5IHJlbW92ZSBpZiBpbiB0aGUgbGlzdFxuICAgICAgaWYgKHNhdmVkUHJvamVjdElkcy5pbmNsdWRlcyhwcm9qZWN0SWQpKSB7XG4gICAgICAgIGNvbnN0IHVwZGF0ZWRTYXZlZFByb2plY3RzID0gc2F2ZWRQcm9qZWN0SWRzLmZpbHRlcihpZCA9PiBpZCAhPT0gcHJvamVjdElkKTtcbiAgICAgICAgXG4gICAgICAgIC8vIFN0b3JlIGluIEZpcmVzdG9yZVxuICAgICAgICBhd2FpdCBzdG9yZVVzZXJEYXRhSW5GaXJlc3RvcmUoY3VycmVudFVzZXIudWlkLCAnc2F2ZWRQcm9qZWN0cycsIHVwZGF0ZWRTYXZlZFByb2plY3RzKTtcbiAgICAgICAgXG4gICAgICAgIC8vIFJlbW92ZSBmcm9tIHRpbWVzdGFtcHNcbiAgICAgICAgY29uc3Qgc2F2ZWRUaW1lc3RhbXBzID0gYXdhaXQgZ2V0VXNlckRhdGFGcm9tRmlyZXN0b3JlPFJlY29yZDxzdHJpbmcsIHN0cmluZz4+KFxuICAgICAgICAgIGN1cnJlbnRVc2VyLnVpZCwgXG4gICAgICAgICAgJ3NhdmVkUHJvamVjdHNUaW1lc3RhbXBzJywgXG4gICAgICAgICAge31cbiAgICAgICAgKTtcbiAgICAgICAgZGVsZXRlIHNhdmVkVGltZXN0YW1wc1twcm9qZWN0SWRdO1xuICAgICAgICBhd2FpdCBzdG9yZVVzZXJEYXRhSW5GaXJlc3RvcmUoY3VycmVudFVzZXIudWlkLCAnc2F2ZWRQcm9qZWN0c1RpbWVzdGFtcHMnLCBzYXZlZFRpbWVzdGFtcHMpO1xuICAgICAgfVxuICAgICAgXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihgRXJyb3IgcmVtb3ZpbmcgcHJvamVjdCAke3Byb2plY3RJZH06YCwgZXJyb3IpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIHRyeSB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBheGlvcy5wb3N0KGAke0FQSV9VUkx9L2Nvbm5lY3QvcmVtb3ZlLyR7cHJvamVjdElkfWAsIHt9LCB7XG4gICAgICBoZWFkZXJzOiBnZXRBdXRoSGVhZGVycygpXG4gICAgfSk7XG4gICAgXG4gICAgcmV0dXJuIHJlc3BvbnNlLmRhdGEuc3VjY2VzcyB8fCBmYWxzZTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKGBFcnJvciByZW1vdmluZyBwcm9qZWN0ICR7cHJvamVjdElkfTpgLCBlcnJvcik7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59O1xuXG4vLyBGb3IgdGVzdGluZzogUmV0dXJuIGVtcHR5IHByb2plY3RzXG5leHBvcnQgY29uc3QgZ2V0RW1wdHlQcm9qZWN0cyA9IGFzeW5jICgpOiBQcm9taXNlPFByb2plY3RbXT4gPT4ge1xuICBjb25zb2xlLmxvZygnRGV2ZWxvcG1lbnQgbW9kZTogVGVzdGluZyB3aXRoIGVtcHR5IHByb2plY3RzJyk7XG4gIHJldHVybiBbXTtcbn07XG5cbi8vIFNhbXBsZSBwcm9qZWN0cyBkYXRhIGZvciBmYWxsYmFja1xuZXhwb3J0IGNvbnN0IGdldFNhbXBsZVByb2plY3RzID0gKCk6IFByb2plY3RbXSA9PiB7XG4gIHJldHVybiBbXG4gICAge1xuICAgICAgaWQ6ICcxJyxcbiAgICAgIHRpdGxlOiAnUHJlZGljdGluZyBIb3VzaW5nIFByaWNlcyBVc2luZyBBZHZhbmNlZCBNYWNoaW5lIExlYXJuaW5nIE1vZGVscycsXG4gICAgICBkZXNjcmlwdGlvbjogJ1RoaXMgcHJvamVjdCBleHBsb3JlcyB0aGUgYXBwbGljYXRpb24gb2YgbWFjaGluZSBsZWFybmluZyB0ZWNobmlxdWVzIHRvIHByZWRpY3QgaG91c2luZyBwcmljZXMgYmFzZWQgb24gZmVhdHVyZXMgc3VjaCBhcyBsb2NhdGlvbiwgc3F1YXJlIGZvb3RhZ2UsIGFuZCBuZWlnaGJvcmhvb2QgYW1lbml0aWVzLicsXG4gICAgICBmYWN1bHR5OiAnRHIuIEphbmUgU21pdGgnLFxuICAgICAgZGVwYXJ0bWVudDogJ0NvbXB1dGVyIFNjaWVuY2UnLFxuICAgICAgc2tpbGxzOiBbJ1B5dGhvbicsICdNYWNoaW5lIExlYXJuaW5nJywgJ0RhdGEgQW5hbHlzaXMnXSxcbiAgICAgIGR1cmF0aW9uOiAnMyBtb250aHMnLFxuICAgICAgY29tbWl0bWVudDogJzEwIGhvdXJzL3dlZWsnXG4gICAgfSxcbiAgICB7XG4gICAgICBpZDogJzInLFxuICAgICAgdGl0bGU6ICdNb2RlbGluZyBDbGltYXRlIENoYW5nZSBJbXBhY3Qgb24gUmVnaW9uYWwgQ3JvcCBZaWVsZHMnLFxuICAgICAgZGVzY3JpcHRpb246ICdUaGlzIHByb2plY3QgZXhhbWluZXMgaG93IGNsaW1hdGUgY2hhbmdlIHZhcmlhYmxlc+KAlHRlbXBlcmF0dXJlLCBwcmVjaXBpdGF0aW9uLCBhbmQgQ0/igoIgbGV2ZWxz4oCUYWZmZWN0IGNyb3AgeWllbGRzIHVzaW5nIHRpbWUtc2VyaWVzIGFuYWx5c2lzIGFuZCBnZW9zcGF0aWFsIG1vZGVsaW5nLicsXG4gICAgICBmYWN1bHR5OiAnRHIuIE1pY2hhZWwgS2ltJyxcbiAgICAgIGRlcGFydG1lbnQ6ICdFbnZpcm9ubWVudGFsIFNjaWVuY2UnLFxuICAgICAgc2tpbGxzOiBbJ1B5dGhvbicsICdUZW5zb3JGbG93JywgJ0dlb3NwYXRpYWwgQW5hbHlzaXMnXSxcbiAgICAgIGR1cmF0aW9uOiAnNiBtb250aHMnLFxuICAgICAgY29tbWl0bWVudDogJzE1IGhvdXJzL3dlZWsnXG4gICAgfSxcbiAgICB7XG4gICAgICBpZDogJzMnLFxuICAgICAgdGl0bGU6ICdEZXZlbG9waW5nIGEgTW9iaWxlIEFwcCBmb3IgTWVudGFsIEhlYWx0aCBNb25pdG9yaW5nJyxcbiAgICAgIGRlc2NyaXB0aW9uOiAnVGhpcyBwcm9qZWN0IGludm9sdmVzIGNyZWF0aW5nIGEgbW9iaWxlIGFwcGxpY2F0aW9uIHRoYXQgaGVscHMgdXNlcnMgdHJhY2sgdGhlaXIgbWVudGFsIGhlYWx0aCBtZXRyaWNzIG92ZXIgdGltZSwgcHJvdmlkaW5nIGluc2lnaHRzIGFuZCBzdWdnZXN0aW5nIHJlc291cmNlcyB3aGVuIG5lZWRlZC4nLFxuICAgICAgZmFjdWx0eTogJ0RyLiBTYXJhaCBKb2huc29uJyxcbiAgICAgIGRlcGFydG1lbnQ6ICdQc3ljaG9sb2d5JyxcbiAgICAgIHNraWxsczogWydSZWFjdCBOYXRpdmUnLCAnSmF2YVNjcmlwdCcsICdVSS9VWCBEZXNpZ24nXSxcbiAgICAgIGR1cmF0aW9uOiAnNCBtb250aHMnLFxuICAgICAgY29tbWl0bWVudDogJzEyIGhvdXJzL3dlZWsnXG4gICAgfSxcbiAgICB7XG4gICAgICBpZDogJzQnLFxuICAgICAgdGl0bGU6ICdBbmFseXppbmcgU29jaWFsIE1lZGlhIERpc2NvdXJzZSBvbiBQdWJsaWMgSGVhbHRoIElzc3VlcycsXG4gICAgICBkZXNjcmlwdGlvbjogJ1RoaXMgcHJvamVjdCB1c2VzIG5hdHVyYWwgbGFuZ3VhZ2UgcHJvY2Vzc2luZyB0byBhbmFseXplIGhvdyBwdWJsaWMgaGVhbHRoIHRvcGljcyBhcmUgZGlzY3Vzc2VkIGFjcm9zcyBkaWZmZXJlbnQgc29jaWFsIG1lZGlhIHBsYXRmb3JtcyBhbmQgZGVtb2dyYXBoaWMgZ3JvdXBzLicsXG4gICAgICBmYWN1bHR5OiAnRHIuIFJvYmVydCBDaGVuJyxcbiAgICAgIGRlcGFydG1lbnQ6ICdQdWJsaWMgSGVhbHRoJyxcbiAgICAgIHNraWxsczogWydOTFAnLCAnRGF0YSBNaW5pbmcnLCAnU3RhdGlzdGljYWwgQW5hbHlzaXMnXSxcbiAgICAgIGR1cmF0aW9uOiAnNSBtb250aHMnLFxuICAgICAgY29tbWl0bWVudDogJzggaG91cnMvd2VlaydcbiAgICB9LFxuICAgIHtcbiAgICAgIGlkOiAnNScsXG4gICAgICB0aXRsZTogJ1F1YW50dW0gQ29tcHV0aW5nIEFsZ29yaXRobXMgZm9yIE9wdGltaXphdGlvbiBQcm9ibGVtcycsXG4gICAgICBkZXNjcmlwdGlvbjogJ1RoaXMgcHJvamVjdCBleHBsb3JlcyBob3cgcXVhbnR1bSBjb21wdXRpbmcgY2FuIGJlIGFwcGxpZWQgdG8gc29sdmUgY29tcGxleCBvcHRpbWl6YXRpb24gcHJvYmxlbXMgdGhhdCBhcmUgY29tcHV0YXRpb25hbGx5IGludGVuc2l2ZSBmb3IgY2xhc3NpY2FsIGNvbXB1dGVycy4nLFxuICAgICAgZmFjdWx0eTogJ0RyLiBFbWlseSBSb2RyaWd1ZXonLFxuICAgICAgZGVwYXJ0bWVudDogJ1BoeXNpY3MnLFxuICAgICAgc2tpbGxzOiBbJ1F1YW50dW0gQ29tcHV0aW5nJywgJ0FsZ29yaXRobSBEZXNpZ24nLCAnTGluZWFyIEFsZ2VicmEnXSxcbiAgICAgIGR1cmF0aW9uOiAnNiBtb250aHMnLFxuICAgICAgY29tbWl0bWVudDogJzIwIGhvdXJzL3dlZWsnXG4gICAgfVxuICBdO1xufTtcblxuLy8gQ29tcGxldGVseSBjbGVhciBhbGwgZGF0YSBmb3IgYSBzcGVjaWZpYyB1c2VyIChmb3IgYWNjb3VudCBkZWxldGlvbiBvciB0ZXN0aW5nKVxuZXhwb3J0IGNvbnN0IHB1cmdlVXNlckRhdGEgPSBhc3luYyAodXNlcklkOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+ID0+IHtcbiAgdHJ5IHtcbiAgICAvLyBEZWxldGUgdGhlIHVzZXIgZG9jdW1lbnQgZnJvbSBGaXJlc3RvcmVcbiAgICBjb25zdCB1c2VyRG9jUmVmID0gZ2V0VXNlckRhdGFSZWYodXNlcklkKTtcbiAgICBhd2FpdCBzZXREb2ModXNlckRvY1JlZiwge1xuICAgICAgdXNlcklkLFxuICAgICAgc2F2ZWRQcm9qZWN0czogW10sXG4gICAgICBhcHBsaWVkUHJvamVjdHM6IFtdLFxuICAgICAgZGVjbGluZWRQcm9qZWN0czogW10sXG4gICAgICB1cGRhdGVkQXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxuICAgIH0pO1xuICAgIFxuICAgIGNvbnNvbGUubG9nKGBQdXJnZWQgYWxsIGRhdGEgZm9yIHVzZXI6ICR7dXNlcklkfSBpbiBGaXJlc3RvcmVgKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKGBFcnJvciBwdXJnaW5nIGRhdGEgZm9yIHVzZXIgJHt1c2VySWR9OmAsIGVycm9yKTtcbiAgfVxufTtcblxuLy8gVW5kbyBsYXN0IGFjdGlvblxuZXhwb3J0IGNvbnN0IHVuZG9MYXN0QWN0aW9uID0gYXN5bmMgKCk6IFByb21pc2U8eyBzdWNjZXNzOiBib29sZWFuOyBtZXNzYWdlOiBzdHJpbmc7IHVuZG9uZVByb2plY3RJZD86IHN0cmluZyB9PiA9PiB7XG4gIC8vIEluIGRldmVsb3BtZW50LCBpbW1lZGlhdGVseSByZXR1cm4gc3VjY2Vzc1xuICBpZiAoSVNfREVWKSB7XG4gICAgY29uc29sZS5sb2coYERldmVsb3BtZW50IG1vZGU6IFNpbXVsYXRpbmcgdW5kbyBsYXN0IGFjdGlvbmApO1xuICAgIFxuICAgIGNvbnN0IGN1cnJlbnRVc2VyID0gYXV0aC5jdXJyZW50VXNlcjtcbiAgICBpZiAoIWN1cnJlbnRVc2VyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdDYW5ub3QgdW5kbyBsYXN0IGFjdGlvbjogTm8gYXV0aGVudGljYXRlZCB1c2VyJyk7XG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgbWVzc2FnZTogJ05vIGF1dGhlbnRpY2F0ZWQgdXNlcicgfTtcbiAgICB9XG4gICAgXG4gICAgdHJ5IHtcbiAgICAgIC8vIEluc3RlYWQgb2YgcXVlcnlpbmcgdXNlckFjdGlvbnMgY29sbGVjdGlvbiB3aGljaCBtaWdodCBub3QgZXhpc3QsXG4gICAgICAvLyB3ZSdsbCB1c2UgYSBzaW1wbGVyIGFwcHJvYWNoIGZvciBkZXZlbG9wbWVudCBtb2RlXG4gICAgICBcbiAgICAgIC8vIEdldCBhbGwgdXNlciBhY3Rpb24gbGlzdHNcbiAgICAgIGNvbnN0IFtzYXZlZFByb2plY3RJZHMsIGFwcGxpZWRQcm9qZWN0SWRzLCBkZWNsaW5lZFByb2plY3RJZHNdID0gYXdhaXQgUHJvbWlzZS5hbGwoW1xuICAgICAgICBnZXRVc2VyRGF0YUZyb21GaXJlc3RvcmU8c3RyaW5nW10+KGN1cnJlbnRVc2VyLnVpZCwgJ3NhdmVkUHJvamVjdHMnLCBbXSksXG4gICAgICAgIGdldFVzZXJEYXRhRnJvbUZpcmVzdG9yZTxzdHJpbmdbXT4oY3VycmVudFVzZXIudWlkLCAnYXBwbGllZFByb2plY3RzJywgW10pLFxuICAgICAgICBnZXRVc2VyRGF0YUZyb21GaXJlc3RvcmU8c3RyaW5nW10+KGN1cnJlbnRVc2VyLnVpZCwgJ2RlY2xpbmVkUHJvamVjdHMnLCBbXSlcbiAgICAgIF0pO1xuICAgICAgXG4gICAgICAvLyBHZXQgdGltZXN0YW1wcyBmb3IgdGhlIG1vc3QgcmVjZW50IGFjdGlvbnMgKGlmIHRoZXkgZXhpc3QpXG4gICAgICBjb25zdCBbc2F2ZWRUaW1lc3RhbXBzLCBhcHBsaWVkVGltZXN0YW1wcywgZGVjbGluZWRUaW1lc3RhbXBzXSA9IGF3YWl0IFByb21pc2UuYWxsKFtcbiAgICAgICAgZ2V0VXNlckRhdGFGcm9tRmlyZXN0b3JlPFJlY29yZDxzdHJpbmcsIHN0cmluZz4+KGN1cnJlbnRVc2VyLnVpZCwgJ3NhdmVkUHJvamVjdHNUaW1lc3RhbXBzJywge30pLFxuICAgICAgICBnZXRVc2VyRGF0YUZyb21GaXJlc3RvcmU8UmVjb3JkPHN0cmluZywgc3RyaW5nPj4oY3VycmVudFVzZXIudWlkLCAnYXBwbGllZFByb2plY3RzVGltZXN0YW1wcycsIHt9KSxcbiAgICAgICAgZ2V0VXNlckRhdGFGcm9tRmlyZXN0b3JlPFJlY29yZDxzdHJpbmcsIHN0cmluZz4+KGN1cnJlbnRVc2VyLnVpZCwgJ2RlY2xpbmVkUHJvamVjdHNUaW1lc3RhbXBzJywge30pXG4gICAgICBdKTtcbiAgICAgIFxuICAgICAgLy8gQ3JlYXRlIGEgbGlzdCBvZiBhbGwgYWN0aW9ucyB3aXRoIHRoZWlyIHRpbWVzdGFtcHNcbiAgICAgIGNvbnN0IGFjdGlvbnM6IEFycmF5PHt0eXBlOiAnc2F2ZScgfCAnYXBwbHknIHwgJ2RlY2xpbmUnLCBwcm9qZWN0SWQ6IHN0cmluZywgdGltZXN0YW1wOiBzdHJpbmd9PiA9IFtdO1xuICAgICAgXG4gICAgICAvLyBBZGQgc2F2ZWQgcHJvamVjdHMgd2l0aCB0aW1lc3RhbXBzXG4gICAgICBpZiAoc2F2ZWRQcm9qZWN0SWRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc3QgbGFzdFNhdmVkSWQgPSBzYXZlZFByb2plY3RJZHNbc2F2ZWRQcm9qZWN0SWRzLmxlbmd0aCAtIDFdO1xuICAgICAgICBjb25zdCB0aW1lc3RhbXAgPSBzYXZlZFRpbWVzdGFtcHNbbGFzdFNhdmVkSWRdIHx8IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTsgLy8gRmFsbGJhY2sgaWYgbm8gdGltZXN0YW1wXG4gICAgICAgIGFjdGlvbnMucHVzaCh7XG4gICAgICAgICAgdHlwZTogJ3NhdmUnLFxuICAgICAgICAgIHByb2plY3RJZDogbGFzdFNhdmVkSWQsXG4gICAgICAgICAgdGltZXN0YW1wXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBBZGQgYXBwbGllZCBwcm9qZWN0cyB3aXRoIHRpbWVzdGFtcHNcbiAgICAgIGlmIChhcHBsaWVkUHJvamVjdElkcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGNvbnN0IGxhc3RBcHBsaWVkSWQgPSBhcHBsaWVkUHJvamVjdElkc1thcHBsaWVkUHJvamVjdElkcy5sZW5ndGggLSAxXTtcbiAgICAgICAgY29uc3QgdGltZXN0YW1wID0gYXBwbGllZFRpbWVzdGFtcHNbbGFzdEFwcGxpZWRJZF0gfHwgbmV3IERhdGUoKS50b0lTT1N0cmluZygpOyAvLyBGYWxsYmFjayBpZiBubyB0aW1lc3RhbXBcbiAgICAgICAgYWN0aW9ucy5wdXNoKHtcbiAgICAgICAgICB0eXBlOiAnYXBwbHknLFxuICAgICAgICAgIHByb2plY3RJZDogbGFzdEFwcGxpZWRJZCxcbiAgICAgICAgICB0aW1lc3RhbXBcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIEFkZCBkZWNsaW5lZCBwcm9qZWN0cyB3aXRoIHRpbWVzdGFtcHNcbiAgICAgIGlmIChkZWNsaW5lZFByb2plY3RJZHMubGVuZ3RoID4gMCkge1xuICAgICAgICBjb25zdCBsYXN0RGVjbGluZWRJZCA9IGRlY2xpbmVkUHJvamVjdElkc1tkZWNsaW5lZFByb2plY3RJZHMubGVuZ3RoIC0gMV07XG4gICAgICAgIGNvbnN0IHRpbWVzdGFtcCA9IGRlY2xpbmVkVGltZXN0YW1wc1tsYXN0RGVjbGluZWRJZF0gfHwgbmV3IERhdGUoKS50b0lTT1N0cmluZygpOyAvLyBGYWxsYmFjayBpZiBubyB0aW1lc3RhbXBcbiAgICAgICAgYWN0aW9ucy5wdXNoKHtcbiAgICAgICAgICB0eXBlOiAnZGVjbGluZScsXG4gICAgICAgICAgcHJvamVjdElkOiBsYXN0RGVjbGluZWRJZCxcbiAgICAgICAgICB0aW1lc3RhbXBcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIElmIG5vIGFjdGlvbnMgdG8gdW5kb1xuICAgICAgaWYgKGFjdGlvbnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBtZXNzYWdlOiAnTm8gYWN0aW9ucyB0byB1bmRvJyB9O1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBTb3J0IGFjdGlvbnMgYnkgdGltZXN0YW1wIChtb3N0IHJlY2VudCBmaXJzdClcbiAgICAgIGFjdGlvbnMuc29ydCgoYSwgYikgPT4gbmV3IERhdGUoYi50aW1lc3RhbXApLmdldFRpbWUoKSAtIG5ldyBEYXRlKGEudGltZXN0YW1wKS5nZXRUaW1lKCkpO1xuICAgICAgXG4gICAgICAvLyBHZXQgdGhlIG1vc3QgcmVjZW50IGFjdGlvblxuICAgICAgY29uc3QgbW9zdFJlY2VudEFjdGlvbiA9IGFjdGlvbnNbMF07XG4gICAgICBcbiAgICAgIC8vIFVuZG8gdGhlIG1vc3QgcmVjZW50IGFjdGlvbiBiYXNlZCBvbiBpdHMgdHlwZVxuICAgICAgc3dpdGNoIChtb3N0UmVjZW50QWN0aW9uLnR5cGUpIHtcbiAgICAgICAgY2FzZSAnc2F2ZSc6XG4gICAgICAgICAgLy8gUmVtb3ZlIGZyb20gc2F2ZWQgcHJvamVjdHNcbiAgICAgICAgICBjb25zdCB1cGRhdGVkU2F2ZWRQcm9qZWN0cyA9IHNhdmVkUHJvamVjdElkcy5maWx0ZXIoaWQgPT4gaWQgIT09IG1vc3RSZWNlbnRBY3Rpb24ucHJvamVjdElkKTtcbiAgICAgICAgICBhd2FpdCBzdG9yZVVzZXJEYXRhSW5GaXJlc3RvcmUoY3VycmVudFVzZXIudWlkLCAnc2F2ZWRQcm9qZWN0cycsIHVwZGF0ZWRTYXZlZFByb2plY3RzKTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBSZW1vdmUgZnJvbSB0aW1lc3RhbXBzXG4gICAgICAgICAgY29uc3QgdXBkYXRlZFNhdmVkVGltZXN0YW1wcyA9IHsgLi4uc2F2ZWRUaW1lc3RhbXBzIH07XG4gICAgICAgICAgZGVsZXRlIHVwZGF0ZWRTYXZlZFRpbWVzdGFtcHNbbW9zdFJlY2VudEFjdGlvbi5wcm9qZWN0SWRdO1xuICAgICAgICAgIGF3YWl0IHN0b3JlVXNlckRhdGFJbkZpcmVzdG9yZShjdXJyZW50VXNlci51aWQsICdzYXZlZFByb2plY3RzVGltZXN0YW1wcycsIHVwZGF0ZWRTYXZlZFRpbWVzdGFtcHMpO1xuICAgICAgICAgIFxuICAgICAgICAgIGNvbnNvbGUubG9nKGBVbmRpZCBzYXZlIGFjdGlvbiBmb3IgcHJvamVjdCAke21vc3RSZWNlbnRBY3Rpb24ucHJvamVjdElkfWApO1xuICAgICAgICAgIHJldHVybiB7IFxuICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSwgXG4gICAgICAgICAgICBtZXNzYWdlOiBgU3VjY2Vzc2Z1bGx5IHVuZGlkIHNhdmUgYWN0aW9uIGZvciBwcm9qZWN0ICR7bW9zdFJlY2VudEFjdGlvbi5wcm9qZWN0SWR9YCxcbiAgICAgICAgICAgIHVuZG9uZVByb2plY3RJZDogbW9zdFJlY2VudEFjdGlvbi5wcm9qZWN0SWRcbiAgICAgICAgICB9O1xuICAgICAgICAgIFxuICAgICAgICBjYXNlICdhcHBseSc6XG4gICAgICAgICAgLy8gUmVtb3ZlIGZyb20gYXBwbGllZCBwcm9qZWN0c1xuICAgICAgICAgIGNvbnN0IHVwZGF0ZWRBcHBsaWVkUHJvamVjdHMgPSBhcHBsaWVkUHJvamVjdElkcy5maWx0ZXIoaWQgPT4gaWQgIT09IG1vc3RSZWNlbnRBY3Rpb24ucHJvamVjdElkKTtcbiAgICAgICAgICBhd2FpdCBzdG9yZVVzZXJEYXRhSW5GaXJlc3RvcmUoY3VycmVudFVzZXIudWlkLCAnYXBwbGllZFByb2plY3RzJywgdXBkYXRlZEFwcGxpZWRQcm9qZWN0cyk7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gUmVtb3ZlIGZyb20gdGltZXN0YW1wc1xuICAgICAgICAgIGNvbnN0IHVwZGF0ZWRBcHBsaWVkVGltZXN0YW1wcyA9IHsgLi4uYXBwbGllZFRpbWVzdGFtcHMgfTtcbiAgICAgICAgICBkZWxldGUgdXBkYXRlZEFwcGxpZWRUaW1lc3RhbXBzW21vc3RSZWNlbnRBY3Rpb24ucHJvamVjdElkXTtcbiAgICAgICAgICBhd2FpdCBzdG9yZVVzZXJEYXRhSW5GaXJlc3RvcmUoY3VycmVudFVzZXIudWlkLCAnYXBwbGllZFByb2plY3RzVGltZXN0YW1wcycsIHVwZGF0ZWRBcHBsaWVkVGltZXN0YW1wcyk7XG4gICAgICAgICAgXG4gICAgICAgICAgY29uc29sZS5sb2coYFVuZGlkIGFwcGx5IGFjdGlvbiBmb3IgcHJvamVjdCAke21vc3RSZWNlbnRBY3Rpb24ucHJvamVjdElkfWApO1xuICAgICAgICAgIHJldHVybiB7IFxuICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSwgXG4gICAgICAgICAgICBtZXNzYWdlOiBgU3VjY2Vzc2Z1bGx5IHVuZGlkIGFwcGx5IGFjdGlvbiBmb3IgcHJvamVjdCAke21vc3RSZWNlbnRBY3Rpb24ucHJvamVjdElkfWAsXG4gICAgICAgICAgICB1bmRvbmVQcm9qZWN0SWQ6IG1vc3RSZWNlbnRBY3Rpb24ucHJvamVjdElkXG4gICAgICAgICAgfTtcbiAgICAgICAgICBcbiAgICAgICAgY2FzZSAnZGVjbGluZSc6XG4gICAgICAgICAgLy8gUmVtb3ZlIGZyb20gZGVjbGluZWQgcHJvamVjdHNcbiAgICAgICAgICBjb25zdCB1cGRhdGVkRGVjbGluZWRQcm9qZWN0cyA9IGRlY2xpbmVkUHJvamVjdElkcy5maWx0ZXIoaWQgPT4gaWQgIT09IG1vc3RSZWNlbnRBY3Rpb24ucHJvamVjdElkKTtcbiAgICAgICAgICBhd2FpdCBzdG9yZVVzZXJEYXRhSW5GaXJlc3RvcmUoY3VycmVudFVzZXIudWlkLCAnZGVjbGluZWRQcm9qZWN0cycsIHVwZGF0ZWREZWNsaW5lZFByb2plY3RzKTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBSZW1vdmUgZnJvbSB0aW1lc3RhbXBzXG4gICAgICAgICAgY29uc3QgdXBkYXRlZERlY2xpbmVkVGltZXN0YW1wcyA9IHsgLi4uZGVjbGluZWRUaW1lc3RhbXBzIH07XG4gICAgICAgICAgZGVsZXRlIHVwZGF0ZWREZWNsaW5lZFRpbWVzdGFtcHNbbW9zdFJlY2VudEFjdGlvbi5wcm9qZWN0SWRdO1xuICAgICAgICAgIGF3YWl0IHN0b3JlVXNlckRhdGFJbkZpcmVzdG9yZShjdXJyZW50VXNlci51aWQsICdkZWNsaW5lZFByb2plY3RzVGltZXN0YW1wcycsIHVwZGF0ZWREZWNsaW5lZFRpbWVzdGFtcHMpO1xuICAgICAgICAgIFxuICAgICAgICAgIGNvbnNvbGUubG9nKGBVbmRpZCBkZWNsaW5lIGFjdGlvbiBmb3IgcHJvamVjdCAke21vc3RSZWNlbnRBY3Rpb24ucHJvamVjdElkfWApO1xuICAgICAgICAgIHJldHVybiB7IFxuICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSwgXG4gICAgICAgICAgICBtZXNzYWdlOiBgU3VjY2Vzc2Z1bGx5IHVuZGlkIGRlY2xpbmUgYWN0aW9uIGZvciBwcm9qZWN0ICR7bW9zdFJlY2VudEFjdGlvbi5wcm9qZWN0SWR9YCxcbiAgICAgICAgICAgIHVuZG9uZVByb2plY3RJZDogbW9zdFJlY2VudEFjdGlvbi5wcm9qZWN0SWRcbiAgICAgICAgICB9O1xuICAgICAgICAgIFxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBtZXNzYWdlOiAnVW5rbm93biBhY3Rpb24gdHlwZScgfTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihgRXJyb3IgdW5kb2luZyBsYXN0IGFjdGlvbjpgLCBlcnJvcik7XG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgbWVzc2FnZTogJ0Vycm9yIHVuZG9pbmcgbGFzdCBhY3Rpb24nIH07XG4gICAgfVxuICB9XG5cbiAgdHJ5IHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGF4aW9zLnBvc3QoYCR7QVBJX1VSTH0vY29ubmVjdC91bmRvYCwge30sIHtcbiAgICAgIGhlYWRlcnM6IGdldEF1dGhIZWFkZXJzKClcbiAgICB9KTtcbiAgICBcbiAgICByZXR1cm4ge1xuICAgICAgLi4ucmVzcG9uc2UuZGF0YSxcbiAgICAgIHVuZG9uZVByb2plY3RJZDogcmVzcG9uc2UuZGF0YS51bmRvbmVQcm9qZWN0SWQgfHwgdW5kZWZpbmVkXG4gICAgfTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKGBFcnJvciB1bmRvaW5nIGxhc3QgYWN0aW9uOmAsIGVycm9yKTtcbiAgICByZXR1cm4geyBcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLCBcbiAgICAgIG1lc3NhZ2U6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InIFxuICAgIH07XG4gIH1cbn07ICJdLCJuYW1lcyI6WyJheGlvcyIsImF1dGgiLCJkYiIsImRvYyIsImdldERvYyIsInNldERvYyIsInVwZGF0ZURvYyIsImdldEN1cnJlbnRVc2VyIiwiaXNBdXRoZW50aWNhdGVkIiwiQVBJX1VSTCIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19BUElfVVJMIiwiSVNfREVWIiwiTkVYVF9QVUJMSUNfSVNfREVWRUxPUE1FTlQiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsImhvc3RuYW1lIiwiZ2V0QXV0aEhlYWRlcnMiLCJ0b2tlbiIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJBdXRob3JpemF0aW9uIiwiZ2V0VXNlckRhdGFSZWYiLCJ1c2VySWQiLCJnZXRVc2VyRGF0YUZyb21GaXJlc3RvcmUiLCJmaWVsZCIsImRlZmF1bHRWYWx1ZSIsImNvbnNvbGUiLCJlcnJvciIsInVzZXJEb2NSZWYiLCJ1c2VyRG9jIiwiZXhpc3RzIiwiZGF0YSIsInVuZGVmaW5lZCIsInN0b3JlVXNlckRhdGFJbkZpcmVzdG9yZSIsInVwZGF0ZWRBdCIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsImNyZWF0ZWRBdCIsImdldFByb2plY3RzIiwibG9nIiwiYXV0aGVudGljYXRlZCIsImdldFNhbXBsZVByb2plY3RzIiwidXNlciIsInNhdmVkUHJvamVjdElkcyIsInVpZCIsImFwcGxpZWRQcm9qZWN0SWRzIiwiZGVjbGluZWRQcm9qZWN0SWRzIiwiZXhjbHVkZWRJZHMiLCJmaWx0ZXIiLCJwcm9qZWN0IiwiaW5jbHVkZXMiLCJpZCIsInJlc3BvbnNlIiwiZ2V0IiwiaGVhZGVycyIsInN1Y2Nlc3MiLCJnZXRTYXZlZFByb2plY3RzIiwibWFwIiwiZ2V0QXBwbGllZFByb2plY3RzIiwiYXBwbHlUb1Byb2plY3QiLCJwcm9qZWN0SWQiLCJjdXJyZW50VXNlciIsInVwZGF0ZWRBcHBsaWVkUHJvamVjdHMiLCJ0aW1lc3RhbXAiLCJhcHBsaWVkVGltZXN0YW1wcyIsInBvc3QiLCJzYXZlUHJvamVjdCIsInVwZGF0ZWRTYXZlZFByb2plY3RzIiwic2F2ZWRUaW1lc3RhbXBzIiwiZGVjbGluZVByb2plY3QiLCJ1cGRhdGVkRGVjbGluZWRQcm9qZWN0cyIsImRlY2xpbmVkVGltZXN0YW1wcyIsInJlbW92ZVByb2plY3QiLCJnZXRFbXB0eVByb2plY3RzIiwidGl0bGUiLCJkZXNjcmlwdGlvbiIsImZhY3VsdHkiLCJkZXBhcnRtZW50Iiwic2tpbGxzIiwiZHVyYXRpb24iLCJjb21taXRtZW50IiwicHVyZ2VVc2VyRGF0YSIsInNhdmVkUHJvamVjdHMiLCJhcHBsaWVkUHJvamVjdHMiLCJkZWNsaW5lZFByb2plY3RzIiwidW5kb0xhc3RBY3Rpb24iLCJtZXNzYWdlIiwiUHJvbWlzZSIsImFsbCIsImFjdGlvbnMiLCJsZW5ndGgiLCJsYXN0U2F2ZWRJZCIsInB1c2giLCJ0eXBlIiwibGFzdEFwcGxpZWRJZCIsImxhc3REZWNsaW5lZElkIiwic29ydCIsImEiLCJiIiwiZ2V0VGltZSIsIm1vc3RSZWNlbnRBY3Rpb24iLCJ1cGRhdGVkU2F2ZWRUaW1lc3RhbXBzIiwidW5kb25lUHJvamVjdElkIiwidXBkYXRlZEFwcGxpZWRUaW1lc3RhbXBzIiwidXBkYXRlZERlY2xpbmVkVGltZXN0YW1wcyIsIkVycm9yIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/services/projectsService.ts\n"));

/***/ })

});