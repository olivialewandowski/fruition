"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/development/connect/page",{

/***/ "(app-pages-browser)/./src/services/projectsService.ts":
/*!*****************************************!*\
  !*** ./src/services/projectsService.ts ***!
  \*****************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   applyToProject: () => (/* binding */ applyToProject),\n/* harmony export */   declineProject: () => (/* binding */ declineProject),\n/* harmony export */   getAppliedProjects: () => (/* binding */ getAppliedProjects),\n/* harmony export */   getEmptyProjects: () => (/* binding */ getEmptyProjects),\n/* harmony export */   getProjects: () => (/* binding */ getProjects),\n/* harmony export */   getSampleProjects: () => (/* binding */ getSampleProjects),\n/* harmony export */   getSavedProjects: () => (/* binding */ getSavedProjects),\n/* harmony export */   purgeUserData: () => (/* binding */ purgeUserData),\n/* harmony export */   removeProject: () => (/* binding */ removeProject),\n/* harmony export */   saveProject: () => (/* binding */ saveProject),\n/* harmony export */   undoLastAction: () => (/* binding */ undoLastAction)\n/* harmony export */ });\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! axios */ \"(app-pages-browser)/./node_modules/axios/lib/axios.js\");\n/* harmony import */ var _config_firebase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/config/firebase */ \"(app-pages-browser)/./src/config/firebase.ts\");\n/* harmony import */ var firebase_firestore__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! firebase/firestore */ \"(app-pages-browser)/./node_modules/firebase/firestore/dist/esm/index.esm.js\");\n/* harmony import */ var _services_authService__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/services/authService */ \"(app-pages-browser)/./src/services/authService.ts\");\n\n\n\n\nconst API_URL = \"http://localhost:5001/fruition-dev/us-central1/api\" || 0;\nconst IS_DEV =  true || 0;\n// Helper function to get auth headers for API requests\nconst getAuthHeaders = ()=>{\n    const token = localStorage.getItem('authToken');\n    return {\n        Authorization: token ? \"Bearer \".concat(token) : '',\n        'Content-Type': 'application/json'\n    };\n};\n// Firestore helper functions\nconst getUserDataRef = (userId)=>{\n    return (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.doc)(_config_firebase__WEBPACK_IMPORTED_MODULE_0__.db, 'userData', userId);\n};\n// Get user data from Firestore\nconst getUserDataFromFirestore = async (userId, field, defaultValue)=>{\n    try {\n        // Check if Firestore is initialized\n        if (!_config_firebase__WEBPACK_IMPORTED_MODULE_0__.db) {\n            console.error('Firestore not initialized');\n            return defaultValue;\n        }\n        const userDocRef = getUserDataRef(userId);\n        const userDoc = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.getDoc)(userDocRef);\n        if (userDoc.exists() && userDoc.data()[field] !== undefined) {\n            return userDoc.data()[field];\n        }\n        return defaultValue;\n    } catch (error) {\n        console.error(\"Error getting \".concat(field, \" from Firestore:\"), error);\n        return defaultValue;\n    }\n};\n// Store user data in Firestore\nconst storeUserDataInFirestore = async (userId, field, data)=>{\n    try {\n        // Check if Firestore is initialized\n        if (!_config_firebase__WEBPACK_IMPORTED_MODULE_0__.db) {\n            console.error('Firestore not initialized');\n            return;\n        }\n        const userDocRef = getUserDataRef(userId);\n        const userDoc = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.getDoc)(userDocRef);\n        if (userDoc.exists()) {\n            // Update existing document\n            await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.updateDoc)(userDocRef, {\n                [field]: data,\n                updatedAt: new Date().toISOString()\n            });\n        } else {\n            // Create new document\n            await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.setDoc)(userDocRef, {\n                userId,\n                [field]: data,\n                createdAt: new Date().toISOString(),\n                updatedAt: new Date().toISOString()\n            });\n        }\n    } catch (error) {\n        console.error(\"Error storing \".concat(field, \" in Firestore:\"), error);\n        throw error; // Rethrow to allow handling by the caller\n    }\n};\n// Get projects from the API\nconst getProjects = async ()=>{\n    // In development, immediately return sample data\n    if (IS_DEV) {\n        console.log('Development mode: Using sample projects data');\n        // Use try-catch to handle potential auth state issues\n        try {\n            // Wait for auth to be initialized\n            const authenticated = await (0,_services_authService__WEBPACK_IMPORTED_MODULE_2__.isAuthenticated)();\n            if (!authenticated) {\n                console.log('No authenticated user, returning all sample projects');\n                return getSampleProjects();\n            }\n            const user = await (0,_services_authService__WEBPACK_IMPORTED_MODULE_2__.getCurrentUser)();\n            if (!user) {\n                console.log('No authenticated user after check, returning all sample projects');\n                return getSampleProjects();\n            }\n            // Get saved, applied, and declined project IDs from Firestore\n            const savedProjectIds = await getUserDataFromFirestore(user.uid, 'savedProjects', []);\n            const appliedProjectIds = await getUserDataFromFirestore(user.uid, 'appliedProjects', []);\n            const declinedProjectIds = await getUserDataFromFirestore(user.uid, 'declinedProjects', []);\n            const excludedIds = [\n                ...savedProjectIds,\n                ...appliedProjectIds,\n                ...declinedProjectIds\n            ];\n            // Filter out projects that are already saved, applied, or declined\n            return getSampleProjects().filter((project)=>!excludedIds.includes(project.id));\n        } catch (error) {\n            console.error('Error fetching user data from Firestore:', error);\n            // Fallback to all sample projects if Firestore fails\n            return getSampleProjects();\n        }\n    }\n    // Production API call logic\n    try {\n        const response = await axios__WEBPACK_IMPORTED_MODULE_3__[\"default\"].get(\"\".concat(API_URL, \"/connect/recommended\"), {\n            headers: getAuthHeaders()\n        });\n        if (response.data.success) {\n            return response.data.data || [];\n        }\n        // Fallback to sample data if the API doesn't return any projects\n        return getSampleProjects();\n    } catch (error) {\n        console.error('Error fetching projects:', error);\n        // Fallback to sample data if the API call fails\n        return getSampleProjects();\n    }\n};\n// Get saved projects from the API\nconst getSavedProjects = async ()=>{\n    // In development, immediately return sample data\n    if (IS_DEV) {\n        console.log('Development mode: Using sample saved projects data');\n        // Use try-catch to handle potential auth state issues\n        try {\n            // Wait for auth to be initialized\n            const authenticated = await (0,_services_authService__WEBPACK_IMPORTED_MODULE_2__.isAuthenticated)();\n            if (!authenticated) {\n                console.log('No authenticated user, returning empty saved projects');\n                return [];\n            }\n            const user = await (0,_services_authService__WEBPACK_IMPORTED_MODULE_2__.getCurrentUser)();\n            if (!user) {\n                console.log('No authenticated user after check, returning empty saved projects');\n                return [];\n            }\n            // Get saved project IDs from Firestore\n            const savedProjectIds = await getUserDataFromFirestore(user.uid, 'savedProjects', []);\n            console.log('Saved project IDs:', savedProjectIds);\n            // Return projects with these IDs\n            return getSampleProjects().filter((project)=>savedProjectIds.includes(project.id)).map((project)=>({\n                    ...project,\n                    id: \"saved_\".concat(project.id) // Ensure unique IDs for React keys\n                }));\n        } catch (error) {\n            console.error('Error fetching saved projects from Firestore:', error);\n            return [];\n        }\n    }\n    // Production API call logic\n    try {\n        const response = await axios__WEBPACK_IMPORTED_MODULE_3__[\"default\"].get(\"\".concat(API_URL, \"/connect/saved\"), {\n            headers: getAuthHeaders()\n        });\n        if (response.data.success) {\n            return response.data.data || [];\n        }\n        return [];\n    } catch (error) {\n        console.error('Error fetching saved projects:', error);\n        return [];\n    }\n};\n// Get applied projects from the API\nconst getAppliedProjects = async ()=>{\n    // In development, immediately return sample data\n    if (IS_DEV) {\n        console.log('Development mode: Using sample applied projects data');\n        // Use try-catch to handle potential auth state issues\n        try {\n            // Wait for auth to be initialized\n            const authenticated = await (0,_services_authService__WEBPACK_IMPORTED_MODULE_2__.isAuthenticated)();\n            if (!authenticated) {\n                console.log('No authenticated user, returning empty applied projects');\n                return [];\n            }\n            const user = await (0,_services_authService__WEBPACK_IMPORTED_MODULE_2__.getCurrentUser)();\n            if (!user) {\n                console.log('No authenticated user after check, returning empty applied projects');\n                return [];\n            }\n            // Get applied project IDs from Firestore\n            const appliedProjectIds = await getUserDataFromFirestore(user.uid, 'appliedProjects', []);\n            console.log('Applied project IDs:', appliedProjectIds);\n            // Return projects with these IDs\n            return getSampleProjects().filter((project)=>appliedProjectIds.includes(project.id)).map((project)=>({\n                    ...project,\n                    id: \"applied_\".concat(project.id) // Ensure unique IDs for React keys\n                }));\n        } catch (error) {\n            console.error('Error fetching applied projects from Firestore:', error);\n            return [];\n        }\n    }\n    // Production API call logic\n    try {\n        const response = await axios__WEBPACK_IMPORTED_MODULE_3__[\"default\"].get(\"\".concat(API_URL, \"/connect/applied\"), {\n            headers: getAuthHeaders()\n        });\n        if (response.data.success) {\n            return response.data.data || [];\n        }\n        return [];\n    } catch (error) {\n        console.error('Error fetching applied projects:', error);\n        return [];\n    }\n};\n// Apply to a project\nconst applyToProject = async (projectId)=>{\n    // In development, immediately return success\n    if (IS_DEV) {\n        console.log(\"Development mode: Simulating apply to project \".concat(projectId));\n        const currentUser = _config_firebase__WEBPACK_IMPORTED_MODULE_0__.auth.currentUser;\n        if (!currentUser) {\n            console.error('Cannot apply to project: No authenticated user');\n            return false;\n        }\n        try {\n            // Get current applied projects\n            const appliedProjectIds = await getUserDataFromFirestore(currentUser.uid, 'appliedProjects', []);\n            // Only add if not already in the list\n            if (!appliedProjectIds.includes(projectId)) {\n                const updatedAppliedProjects = [\n                    ...appliedProjectIds,\n                    projectId\n                ];\n                // Store in Firestore\n                await storeUserDataInFirestore(currentUser.uid, 'appliedProjects', updatedAppliedProjects);\n            }\n            return true;\n        } catch (error) {\n            console.error(\"Error applying to project \".concat(projectId, \":\"), error);\n            return false;\n        }\n    }\n    try {\n        const response = await axios__WEBPACK_IMPORTED_MODULE_3__[\"default\"].post(\"\".concat(API_URL, \"/projects/\").concat(projectId, \"/apply\"), {}, {\n            headers: getAuthHeaders()\n        });\n        return response.data.success || false;\n    } catch (error) {\n        console.error(\"Error applying to project \".concat(projectId, \":\"), error);\n        return false;\n    }\n};\n// Save a project\nconst saveProject = async (projectId)=>{\n    // In development, immediately return success\n    if (IS_DEV) {\n        console.log(\"Development mode: Simulating save project \".concat(projectId));\n        const currentUser = _config_firebase__WEBPACK_IMPORTED_MODULE_0__.auth.currentUser;\n        if (!currentUser) {\n            console.error('Cannot save project: No authenticated user');\n            return false;\n        }\n        try {\n            // Get current saved projects\n            const savedProjectIds = await getUserDataFromFirestore(currentUser.uid, 'savedProjects', []);\n            // Only add if not already in the list\n            if (!savedProjectIds.includes(projectId)) {\n                const updatedSavedProjects = [\n                    ...savedProjectIds,\n                    projectId\n                ];\n                // Store in Firestore\n                await storeUserDataInFirestore(currentUser.uid, 'savedProjects', updatedSavedProjects);\n            }\n            return true;\n        } catch (error) {\n            console.error(\"Error saving project \".concat(projectId, \":\"), error);\n            return false;\n        }\n    }\n    try {\n        const response = await axios__WEBPACK_IMPORTED_MODULE_3__[\"default\"].post(\"\".concat(API_URL, \"/connect/save/\").concat(projectId), {}, {\n            headers: getAuthHeaders()\n        });\n        return response.data.success || false;\n    } catch (error) {\n        console.error(\"Error saving project \".concat(projectId, \":\"), error);\n        return false;\n    }\n};\n// Decline a project\nconst declineProject = async (projectId)=>{\n    // In development, immediately return success\n    if (IS_DEV) {\n        console.log(\"Development mode: Simulating decline project \".concat(projectId));\n        const currentUser = _config_firebase__WEBPACK_IMPORTED_MODULE_0__.auth.currentUser;\n        if (!currentUser) {\n            console.error('Cannot decline project: No authenticated user');\n            return false;\n        }\n        try {\n            // Get current declined projects\n            const declinedProjectIds = await getUserDataFromFirestore(currentUser.uid, 'declinedProjects', []);\n            // Only add if not already in the list\n            if (!declinedProjectIds.includes(projectId)) {\n                const updatedDeclinedProjects = [\n                    ...declinedProjectIds,\n                    projectId\n                ];\n                // Store in Firestore\n                await storeUserDataInFirestore(currentUser.uid, 'declinedProjects', updatedDeclinedProjects);\n            }\n            return true;\n        } catch (error) {\n            console.error(\"Error declining project \".concat(projectId, \":\"), error);\n            return false;\n        }\n    }\n    try {\n        const response = await axios__WEBPACK_IMPORTED_MODULE_3__[\"default\"].post(\"\".concat(API_URL, \"/connect/decline/\").concat(projectId), {}, {\n            headers: getAuthHeaders()\n        });\n        return response.data.success || false;\n    } catch (error) {\n        console.error(\"Error declining project \".concat(projectId, \":\"), error);\n        return false;\n    }\n};\n// Remove a saved project\nconst removeProject = async (projectId)=>{\n    // In development, immediately return success\n    if (IS_DEV) {\n        console.log(\"Development mode: Simulating remove project \".concat(projectId));\n        const currentUser = _config_firebase__WEBPACK_IMPORTED_MODULE_0__.auth.currentUser;\n        if (!currentUser) {\n            console.error('Cannot remove project: No authenticated user');\n            return false;\n        }\n        try {\n            // Get current saved projects\n            const savedProjectIds = await getUserDataFromFirestore(currentUser.uid, 'savedProjects', []);\n            // Remove the project ID from the list\n            const updatedSavedProjects = savedProjectIds.filter((id)=>id !== projectId.replace('saved_', ''));\n            // Store in Firestore\n            await storeUserDataInFirestore(currentUser.uid, 'savedProjects', updatedSavedProjects);\n            return true;\n        } catch (error) {\n            console.error(\"Error removing project \".concat(projectId, \":\"), error);\n            return false;\n        }\n    }\n    try {\n        const response = await axios__WEBPACK_IMPORTED_MODULE_3__[\"default\"].delete(\"\".concat(API_URL, \"/connect/saved/\").concat(projectId), {\n            headers: getAuthHeaders()\n        });\n        return response.data.success || false;\n    } catch (error) {\n        console.error(\"Error removing project \".concat(projectId, \":\"), error);\n        return false;\n    }\n};\n// For testing: Return empty projects\nconst getEmptyProjects = async ()=>{\n    console.log('Development mode: Testing with empty projects');\n    return [];\n};\n// Sample projects data for fallback\nconst getSampleProjects = ()=>{\n    return [\n        {\n            id: '1',\n            title: 'Predicting Housing Prices Using Advanced Machine Learning Models',\n            description: 'This project explores the application of machine learning techniques to predict housing prices based on features such as location, square footage, and neighborhood amenities.',\n            faculty: 'Dr. Jane Smith',\n            department: 'Computer Science',\n            skills: [\n                'Python',\n                'Machine Learning',\n                'Data Analysis'\n            ],\n            duration: '3 months',\n            commitment: '10 hours/week'\n        },\n        {\n            id: '2',\n            title: 'Modeling Climate Change Impact on Regional Crop Yields',\n            description: 'This project examines how climate change variables—temperature, precipitation, and CO₂ levels—affect crop yields using time-series analysis and geospatial modeling.',\n            faculty: 'Dr. Michael Kim',\n            department: 'Environmental Science',\n            skills: [\n                'Python',\n                'TensorFlow',\n                'Geospatial Analysis'\n            ],\n            duration: '6 months',\n            commitment: '15 hours/week'\n        },\n        {\n            id: '3',\n            title: 'Developing a Mobile App for Mental Health Monitoring',\n            description: 'This project involves creating a mobile application that helps users track their mental health metrics over time, providing insights and suggesting resources when needed.',\n            faculty: 'Dr. Sarah Johnson',\n            department: 'Psychology',\n            skills: [\n                'React Native',\n                'JavaScript',\n                'UI/UX Design'\n            ],\n            duration: '4 months',\n            commitment: '12 hours/week'\n        },\n        {\n            id: '4',\n            title: 'Analyzing Social Media Discourse on Public Health Issues',\n            description: 'This project uses natural language processing to analyze how public health topics are discussed across different social media platforms and demographic groups.',\n            faculty: 'Dr. Robert Chen',\n            department: 'Public Health',\n            skills: [\n                'NLP',\n                'Data Mining',\n                'Statistical Analysis'\n            ],\n            duration: '5 months',\n            commitment: '8 hours/week'\n        },\n        {\n            id: '5',\n            title: 'Quantum Computing Algorithms for Optimization Problems',\n            description: 'This project explores how quantum computing can be applied to solve complex optimization problems that are computationally intensive for classical computers.',\n            faculty: 'Dr. Emily Rodriguez',\n            department: 'Physics',\n            skills: [\n                'Quantum Computing',\n                'Algorithm Design',\n                'Linear Algebra'\n            ],\n            duration: '6 months',\n            commitment: '20 hours/week'\n        }\n    ];\n};\n// Completely clear all data for a specific user (for account deletion or testing)\nconst purgeUserData = async (userId)=>{\n    try {\n        // Delete the user document from Firestore\n        const userDocRef = getUserDataRef(userId);\n        await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.setDoc)(userDocRef, {\n            userId,\n            savedProjects: [],\n            appliedProjects: [],\n            declinedProjects: [],\n            updatedAt: new Date().toISOString()\n        });\n        console.log(\"Purged all data for user: \".concat(userId, \" in Firestore\"));\n    } catch (error) {\n        console.error(\"Error purging data for user \".concat(userId, \":\"), error);\n    }\n};\n// Undo last action\nconst undoLastAction = async ()=>{\n    // In development, immediately return success\n    if (IS_DEV) {\n        console.log(\"Development mode: Simulating undo last action\");\n        const currentUser = _config_firebase__WEBPACK_IMPORTED_MODULE_0__.auth.currentUser;\n        if (!currentUser) {\n            console.error('Cannot undo last action: No authenticated user');\n            return {\n                success: false,\n                message: 'No authenticated user'\n            };\n        }\n        try {\n            // Instead of querying userActions collection which might not exist,\n            // we'll use a simpler approach for development mode\n            // First check if there are any saved projects\n            const savedProjectIds = await getUserDataFromFirestore(currentUser.uid, 'savedProjects', []);\n            if (savedProjectIds.length > 0) {\n                // Undo the most recent saved project (remove the last one)\n                const projectIdToRemove = savedProjectIds[savedProjectIds.length - 1];\n                const updatedSavedProjects = savedProjectIds.filter((id)=>id !== projectIdToRemove);\n                await storeUserDataInFirestore(currentUser.uid, 'savedProjects', updatedSavedProjects);\n                // Log the action for debugging\n                console.log(\"Undid save action for project \".concat(projectIdToRemove));\n                return {\n                    success: true,\n                    message: \"Successfully undid save action for project \".concat(projectIdToRemove),\n                    undoneProjectId: projectIdToRemove\n                };\n            }\n            // If no saved projects, check applied projects\n            const appliedProjectIds = await getUserDataFromFirestore(currentUser.uid, 'appliedProjects', []);\n            if (appliedProjectIds.length > 0) {\n                // Undo the most recent applied project (remove the last one)\n                const projectIdToRemove = appliedProjectIds[appliedProjectIds.length - 1];\n                const updatedAppliedProjects = appliedProjectIds.filter((id)=>id !== projectIdToRemove);\n                await storeUserDataInFirestore(currentUser.uid, 'appliedProjects', updatedAppliedProjects);\n                // Log the action for debugging\n                console.log(\"Undid apply action for project \".concat(projectIdToRemove));\n                return {\n                    success: true,\n                    message: \"Successfully undid apply action for project \".concat(projectIdToRemove),\n                    undoneProjectId: projectIdToRemove\n                };\n            }\n            // If no applied projects, check declined projects\n            const declinedProjectIds = await getUserDataFromFirestore(currentUser.uid, 'declinedProjects', []);\n            if (declinedProjectIds.length > 0) {\n                // Undo the most recent declined project (remove the last one)\n                const projectIdToRemove = declinedProjectIds[declinedProjectIds.length - 1];\n                const updatedDeclinedProjects = declinedProjectIds.filter((id)=>id !== projectIdToRemove);\n                await storeUserDataInFirestore(currentUser.uid, 'declinedProjects', updatedDeclinedProjects);\n                // Log the action for debugging\n                console.log(\"Undid decline action for project \".concat(projectIdToRemove));\n                return {\n                    success: true,\n                    message: \"Successfully undid decline action for project \".concat(projectIdToRemove),\n                    undoneProjectId: projectIdToRemove\n                };\n            }\n            // If we get here, there are no actions to undo\n            return {\n                success: false,\n                message: 'No actions to undo'\n            };\n        } catch (error) {\n            console.error(\"Error undoing last action:\", error);\n            return {\n                success: false,\n                message: 'Error undoing last action'\n            };\n        }\n    }\n    try {\n        const response = await axios__WEBPACK_IMPORTED_MODULE_3__[\"default\"].post(\"\".concat(API_URL, \"/connect/undo\"), {}, {\n            headers: getAuthHeaders()\n        });\n        return {\n            ...response.data,\n            undoneProjectId: response.data.undoneProjectId || undefined\n        };\n    } catch (error) {\n        console.error(\"Error undoing last action:\", error);\n        return {\n            success: false,\n            message: error instanceof Error ? error.message : 'Unknown error'\n        };\n    }\n};\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9zZXJ2aWNlcy9wcm9qZWN0c1NlcnZpY2UudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQzBCO0FBQ21CO0FBYWpCO0FBQzZDO0FBRXpFLE1BQU1TLFVBQVVDLG9EQUErQixJQUFJLENBQW9EO0FBQ3ZHLE1BQU1HLFNBQVNILEtBQ3NDLElBQ3JDLENBQXlFO0FBRXpGLHVEQUF1RDtBQUN2RCxNQUFNUSxpQkFBaUI7SUFDckIsTUFBTUMsUUFBUUMsYUFBYUMsT0FBTyxDQUFDO0lBQ25DLE9BQU87UUFDTEMsZUFBZUgsUUFBUSxVQUFnQixPQUFOQSxTQUFVO1FBQzNDLGdCQUFnQjtJQUNsQjtBQUNGO0FBRUEsNkJBQTZCO0FBQzdCLE1BQU1JLGlCQUFpQixDQUFDQztJQUN0QixPQUFPckIsdURBQUdBLENBQUNELGdEQUFFQSxFQUFFLFlBQVlzQjtBQUM3QjtBQUVBLCtCQUErQjtBQUMvQixNQUFNQywyQkFBMkIsT0FBVUQsUUFBZ0JFLE9BQWVDO0lBQ3hFLElBQUk7UUFDRixvQ0FBb0M7UUFDcEMsSUFBSSxDQUFDekIsZ0RBQUVBLEVBQUU7WUFDUDBCLFFBQVFDLEtBQUssQ0FBQztZQUNkLE9BQU9GO1FBQ1Q7UUFFQSxNQUFNRyxhQUFhUCxlQUFlQztRQUNsQyxNQUFNTyxVQUFVLE1BQU0zQiwwREFBTUEsQ0FBQzBCO1FBRTdCLElBQUlDLFFBQVFDLE1BQU0sTUFBTUQsUUFBUUUsSUFBSSxFQUFFLENBQUNQLE1BQU0sS0FBS1EsV0FBVztZQUMzRCxPQUFPSCxRQUFRRSxJQUFJLEVBQUUsQ0FBQ1AsTUFBTTtRQUM5QjtRQUVBLE9BQU9DO0lBQ1QsRUFBRSxPQUFPRSxPQUFPO1FBQ2RELFFBQVFDLEtBQUssQ0FBQyxpQkFBdUIsT0FBTkgsT0FBTSxxQkFBbUJHO1FBQ3hELE9BQU9GO0lBQ1Q7QUFDRjtBQUVBLCtCQUErQjtBQUMvQixNQUFNUSwyQkFBMkIsT0FBT1gsUUFBZ0JFLE9BQWVPO0lBQ3JFLElB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O1lBQ0w0QixTQUFTO1lBQ1Q2QixTQUFTekQsaUJBQWlCNkQsUUFBUTdELE1BQU15RCxPQUFPLEdBQUc7UUFDcEQ7SUFDRjtBQUNGLEVBQUUiLCJzb3VyY2VzIjpbIi9Vc2Vycy9hbGV4aHN1L0Rlc2t0b3AvZnJ1aXRib3kvZnJ1aXRpb24vZnJvbnRlbmQvc3JjL3NlcnZpY2VzL3Byb2plY3RzU2VydmljZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQcm9qZWN0IH0gZnJvbSAnQC90eXBlcy9wcm9qZWN0JztcbmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7XG5pbXBvcnQgeyBhdXRoLCBkYiB9IGZyb20gJ0AvY29uZmlnL2ZpcmViYXNlJztcbmltcG9ydCB7IFxuICBkb2MsIFxuICBnZXREb2MsIFxuICBzZXREb2MsIFxuICB1cGRhdGVEb2MsXG4gIGNvbGxlY3Rpb24sXG4gIHF1ZXJ5LFxuICB3aGVyZSxcbiAgZ2V0RG9jcyxcbiAgb3JkZXJCeSxcbiAgbGltaXQsXG4gIGFkZERvY1xufSBmcm9tICdmaXJlYmFzZS9maXJlc3RvcmUnO1xuaW1wb3J0IHsgZ2V0Q3VycmVudFVzZXIsIGlzQXV0aGVudGljYXRlZCB9IGZyb20gJ0Avc2VydmljZXMvYXV0aFNlcnZpY2UnO1xuXG5jb25zdCBBUElfVVJMID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQVBJX1VSTCB8fCAnaHR0cDovL2xvY2FsaG9zdDo1MDAxL2ZydWl0aW9uLWRldi91cy1jZW50cmFsMS9hcGknO1xuY29uc3QgSVNfREVWID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfSVNfREVWRUxPUE1FTlQgPT09ICd0cnVlJyB8fCBcbiAgICAgICAgICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnIHx8IFxuICAgICAgICAgICAgICAgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZSA9PT0gJ2xvY2FsaG9zdCcpO1xuXG4vLyBIZWxwZXIgZnVuY3Rpb24gdG8gZ2V0IGF1dGggaGVhZGVycyBmb3IgQVBJIHJlcXVlc3RzXG5jb25zdCBnZXRBdXRoSGVhZGVycyA9ICgpID0+IHtcbiAgY29uc3QgdG9rZW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnYXV0aFRva2VuJyk7XG4gIHJldHVybiB7XG4gICAgQXV0aG9yaXphdGlvbjogdG9rZW4gPyBgQmVhcmVyICR7dG9rZW59YCA6ICcnLFxuICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcbiAgfTtcbn07XG5cbi8vIEZpcmVzdG9yZSBoZWxwZXIgZnVuY3Rpb25zXG5jb25zdCBnZXRVc2VyRGF0YVJlZiA9ICh1c2VySWQ6IHN0cmluZykgPT4ge1xuICByZXR1cm4gZG9jKGRiLCAndXNlckRhdGEnLCB1c2VySWQpO1xufTtcblxuLy8gR2V0IHVzZXIgZGF0YSBmcm9tIEZpcmVzdG9yZVxuY29uc3QgZ2V0VXNlckRhdGFGcm9tRmlyZXN0b3JlID0gYXN5bmMgPFQ+KHVzZXJJZDogc3RyaW5nLCBmaWVsZDogc3RyaW5nLCBkZWZhdWx0VmFsdWU6IFQpOiBQcm9taXNlPFQ+ID0+IHtcbiAgdHJ5IHtcbiAgICAvLyBDaGVjayBpZiBGaXJlc3RvcmUgaXMgaW5pdGlhbGl6ZWRcbiAgICBpZiAoIWRiKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdGaXJlc3RvcmUgbm90IGluaXRpYWxpemVkJyk7XG4gICAgICByZXR1cm4gZGVmYXVsdFZhbHVlO1xuICAgIH1cbiAgICBcbiAgICBjb25zdCB1c2VyRG9jUmVmID0gZ2V0VXNlckRhdGFSZWYodXNlcklkKTtcbiAgICBjb25zdCB1c2VyRG9jID0gYXdhaXQgZ2V0RG9jKHVzZXJEb2NSZWYpO1xuICAgIFxuICAgIGlmICh1c2VyRG9jLmV4aXN0cygpICYmIHVzZXJEb2MuZGF0YSgpW2ZpZWxkXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gdXNlckRvYy5kYXRhKClbZmllbGRdIGFzIFQ7XG4gICAgfVxuICAgIFxuICAgIHJldHVybiBkZWZhdWx0VmFsdWU7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihgRXJyb3IgZ2V0dGluZyAke2ZpZWxkfSBmcm9tIEZpcmVzdG9yZTpgLCBlcnJvcik7XG4gICAgcmV0dXJuIGRlZmF1bHRWYWx1ZTtcbiAgfVxufTtcblxuLy8gU3RvcmUgdXNlciBkYXRhIGluIEZpcmVzdG9yZVxuY29uc3Qgc3RvcmVVc2VyRGF0YUluRmlyZXN0b3JlID0gYXN5bmMgKHVzZXJJZDogc3RyaW5nLCBmaWVsZDogc3RyaW5nLCBkYXRhOiBhbnkpOiBQcm9taXNlPHZvaWQ+ID0+IHtcbiAgdHJ5IHtcbiAgICAvLyBDaGVjayBpZiBGaXJlc3RvcmUgaXMgaW5pdGlhbGl6ZWRcbiAgICBpZiAoIWRiKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdGaXJlc3RvcmUgbm90IGluaXRpYWxpemVkJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIGNvbnN0IHVzZXJEb2NSZWYgPSBnZXRVc2VyRGF0YVJlZih1c2VySWQpO1xuICAgIGNvbnN0IHVzZXJEb2MgPSBhd2FpdCBnZXREb2ModXNlckRvY1JlZik7XG4gICAgXG4gICAgaWYgKHVzZXJEb2MuZXhpc3RzKCkpIHtcbiAgICAgIC8vIFVwZGF0ZSBleGlzdGluZyBkb2N1bWVudFxuICAgICAgYXdhaXQgdXBkYXRlRG9jKHVzZXJEb2NSZWYsIHtcbiAgICAgICAgW2ZpZWxkXTogZGF0YSxcbiAgICAgICAgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBDcmVhdGUgbmV3IGRvY3VtZW50XG4gICAgICBhd2FpdCBzZXREb2ModXNlckRvY1JlZiwge1xuICAgICAgICB1c2VySWQsXG4gICAgICAgIFtmaWVsZF06IGRhdGEsXG4gICAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICB1cGRhdGVkQXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxuICAgICAgfSk7XG4gICAgfVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIHN0b3JpbmcgJHtmaWVsZH0gaW4gRmlyZXN0b3JlOmAsIGVycm9yKTtcbiAgICB0aHJvdyBlcnJvcjsgLy8gUmV0aHJvdyB0byBhbGxvdyBoYW5kbGluZyBieSB0aGUgY2FsbGVyXG4gIH1cbn07XG5cbi8vIEdldCBwcm9qZWN0cyBmcm9tIHRoZSBBUElcbmV4cG9ydCBjb25zdCBnZXRQcm9qZWN0cyA9IGFzeW5jICgpOiBQcm9taXNlPFByb2plY3RbXT4gPT4ge1xuICAvLyBJbiBkZXZlbG9wbWVudCwgaW1tZWRpYXRlbHkgcmV0dXJuIHNhbXBsZSBkYXRhXG4gIGlmIChJU19ERVYpIHtcbiAgICBjb25zb2xlLmxvZygnRGV2ZWxvcG1lbnQgbW9kZTogVXNpbmcgc2FtcGxlIHByb2plY3RzIGRhdGEnKTtcbiAgICBcbiAgICAvLyBVc2UgdHJ5LWNhdGNoIHRvIGhhbmRsZSBwb3RlbnRpYWwgYXV0aCBzdGF0ZSBpc3N1ZXNcbiAgICB0cnkge1xuICAgICAgLy8gV2FpdCBmb3IgYXV0aCB0byBiZSBpbml0aWFsaXplZFxuICAgICAgY29uc3QgYXV0aGVudGljYXRlZCA9IGF3YWl0IGlzQXV0aGVudGljYXRlZCgpO1xuICAgICAgaWYgKCFhdXRoZW50aWNhdGVkKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdObyBhdXRoZW50aWNhdGVkIHVzZXIsIHJldHVybmluZyBhbGwgc2FtcGxlIHByb2plY3RzJyk7XG4gICAgICAgIHJldHVybiBnZXRTYW1wbGVQcm9qZWN0cygpO1xuICAgICAgfVxuICAgICAgXG4gICAgICBjb25zdCB1c2VyID0gYXdhaXQgZ2V0Q3VycmVudFVzZXIoKTtcbiAgICAgIGlmICghdXNlcikge1xuICAgICAgICBjb25zb2xlLmxvZygnTm8gYXV0aGVudGljYXRlZCB1c2VyIGFmdGVyIGNoZWNrLCByZXR1cm5pbmcgYWxsIHNhbXBsZSBwcm9qZWN0cycpO1xuICAgICAgICByZXR1cm4gZ2V0U2FtcGxlUHJvamVjdHMoKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gR2V0IHNhdmVkLCBhcHBsaWVkLCBhbmQgZGVjbGluZWQgcHJvamVjdCBJRHMgZnJvbSBGaXJlc3RvcmVcbiAgICAgIGNvbnN0IHNhdmVkUHJvamVjdElkcyA9IGF3YWl0IGdldFVzZXJEYXRhRnJvbUZpcmVzdG9yZTxzdHJpbmdbXT4odXNlci51aWQsICdzYXZlZFByb2plY3RzJywgW10pO1xuICAgICAgY29uc3QgYXBwbGllZFByb2plY3RJZHMgPSBhd2FpdCBnZXRVc2VyRGF0YUZyb21GaXJlc3RvcmU8c3RyaW5nW10+KHVzZXIudWlkLCAnYXBwbGllZFByb2plY3RzJywgW10pO1xuICAgICAgY29uc3QgZGVjbGluZWRQcm9qZWN0SWRzID0gYXdhaXQgZ2V0VXNlckRhdGFGcm9tRmlyZXN0b3JlPHN0cmluZ1tdPih1c2VyLnVpZCwgJ2RlY2xpbmVkUHJvamVjdHMnLCBbXSk7XG4gICAgICBcbiAgICAgIGNvbnN0IGV4Y2x1ZGVkSWRzID0gWy4uLnNhdmVkUHJvamVjdElkcywgLi4uYXBwbGllZFByb2plY3RJZHMsIC4uLmRlY2xpbmVkUHJvamVjdElkc107XG4gICAgICBcbiAgICAgIC8vIEZpbHRlciBvdXQgcHJvamVjdHMgdGhhdCBhcmUgYWxyZWFkeSBzYXZlZCwgYXBwbGllZCwgb3IgZGVjbGluZWRcbiAgICAgIHJldHVybiBnZXRTYW1wbGVQcm9qZWN0cygpLmZpbHRlcihwcm9qZWN0ID0+ICFleGNsdWRlZElkcy5pbmNsdWRlcyhwcm9qZWN0LmlkKSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIHVzZXIgZGF0YSBmcm9tIEZpcmVzdG9yZTonLCBlcnJvcik7XG4gICAgICBcbiAgICAgIC8vIEZhbGxiYWNrIHRvIGFsbCBzYW1wbGUgcHJvamVjdHMgaWYgRmlyZXN0b3JlIGZhaWxzXG4gICAgICByZXR1cm4gZ2V0U2FtcGxlUHJvamVjdHMoKTtcbiAgICB9XG4gIH1cblxuICAvLyBQcm9kdWN0aW9uIEFQSSBjYWxsIGxvZ2ljXG4gIHRyeSB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBheGlvcy5nZXQoYCR7QVBJX1VSTH0vY29ubmVjdC9yZWNvbW1lbmRlZGAsIHtcbiAgICAgIGhlYWRlcnM6IGdldEF1dGhIZWFkZXJzKClcbiAgICB9KTtcbiAgICBcbiAgICBpZiAocmVzcG9uc2UuZGF0YS5zdWNjZXNzKSB7XG4gICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YS5kYXRhIHx8IFtdO1xuICAgIH1cbiAgICBcbiAgICAvLyBGYWxsYmFjayB0byBzYW1wbGUgZGF0YSBpZiB0aGUgQVBJIGRvZXNuJ3QgcmV0dXJuIGFueSBwcm9qZWN0c1xuICAgIHJldHVybiBnZXRTYW1wbGVQcm9qZWN0cygpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIHByb2plY3RzOicsIGVycm9yKTtcbiAgICAvLyBGYWxsYmFjayB0byBzYW1wbGUgZGF0YSBpZiB0aGUgQVBJIGNhbGwgZmFpbHNcbiAgICByZXR1cm4gZ2V0U2FtcGxlUHJvamVjdHMoKTtcbiAgfVxufTtcblxuLy8gR2V0IHNhdmVkIHByb2plY3RzIGZyb20gdGhlIEFQSVxuZXhwb3J0IGNvbnN0IGdldFNhdmVkUHJvamVjdHMgPSBhc3luYyAoKTogUHJvbWlzZTxQcm9qZWN0W10+ID0+IHtcbiAgLy8gSW4gZGV2ZWxvcG1lbnQsIGltbWVkaWF0ZWx5IHJldHVybiBzYW1wbGUgZGF0YVxuICBpZiAoSVNfREVWKSB7XG4gICAgY29uc29sZS5sb2coJ0RldmVsb3BtZW50IG1vZGU6IFVzaW5nIHNhbXBsZSBzYXZlZCBwcm9qZWN0cyBkYXRhJyk7XG4gICAgXG4gICAgLy8gVXNlIHRyeS1jYXRjaCB0byBoYW5kbGUgcG90ZW50aWFsIGF1dGggc3RhdGUgaXNzdWVzXG4gICAgdHJ5IHtcbiAgICAgIC8vIFdhaXQgZm9yIGF1dGggdG8gYmUgaW5pdGlhbGl6ZWRcbiAgICAgIGNvbnN0IGF1dGhlbnRpY2F0ZWQgPSBhd2FpdCBpc0F1dGhlbnRpY2F0ZWQoKTtcbiAgICAgIGlmICghYXV0aGVudGljYXRlZCkge1xuICAgICAgICBjb25zb2xlLmxvZygnTm8gYXV0aGVudGljYXRlZCB1c2VyLCByZXR1cm5pbmcgZW1wdHkgc2F2ZWQgcHJvamVjdHMnKTtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgXG4gICAgICBjb25zdCB1c2VyID0gYXdhaXQgZ2V0Q3VycmVudFVzZXIoKTtcbiAgICAgIGlmICghdXNlcikge1xuICAgICAgICBjb25zb2xlLmxvZygnTm8gYXV0aGVudGljYXRlZCB1c2VyIGFmdGVyIGNoZWNrLCByZXR1cm5pbmcgZW1wdHkgc2F2ZWQgcHJvamVjdHMnKTtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBHZXQgc2F2ZWQgcHJvamVjdCBJRHMgZnJvbSBGaXJlc3RvcmVcbiAgICAgIGNvbnN0IHNhdmVkUHJvamVjdElkcyA9IGF3YWl0IGdldFVzZXJEYXRhRnJvbUZpcmVzdG9yZTxzdHJpbmdbXT4odXNlci51aWQsICdzYXZlZFByb2plY3RzJywgW10pO1xuICAgICAgY29uc29sZS5sb2coJ1NhdmVkIHByb2plY3QgSURzOicsIHNhdmVkUHJvamVjdElkcyk7XG4gICAgICBcbiAgICAgIC8vIFJldHVybiBwcm9qZWN0cyB3aXRoIHRoZXNlIElEc1xuICAgICAgcmV0dXJuIGdldFNhbXBsZVByb2plY3RzKClcbiAgICAgICAgLmZpbHRlcihwcm9qZWN0ID0+IHNhdmVkUHJvamVjdElkcy5pbmNsdWRlcyhwcm9qZWN0LmlkKSlcbiAgICAgICAgLm1hcChwcm9qZWN0ID0+ICh7XG4gICAgICAgICAgLi4ucHJvamVjdCxcbiAgICAgICAgICBpZDogYHNhdmVkXyR7cHJvamVjdC5pZH1gIC8vIEVuc3VyZSB1bmlxdWUgSURzIGZvciBSZWFjdCBrZXlzXG4gICAgICAgIH0pKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgc2F2ZWQgcHJvamVjdHMgZnJvbSBGaXJlc3RvcmU6JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgfVxuXG4gIC8vIFByb2R1Y3Rpb24gQVBJIGNhbGwgbG9naWNcbiAgdHJ5IHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGF4aW9zLmdldChgJHtBUElfVVJMfS9jb25uZWN0L3NhdmVkYCwge1xuICAgICAgaGVhZGVyczogZ2V0QXV0aEhlYWRlcnMoKVxuICAgIH0pO1xuICAgIFxuICAgIGlmIChyZXNwb25zZS5kYXRhLnN1Y2Nlc3MpIHtcbiAgICAgIHJldHVybiByZXNwb25zZS5kYXRhLmRhdGEgfHwgW107XG4gICAgfVxuICAgIFxuICAgIHJldHVybiBbXTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBzYXZlZCBwcm9qZWN0czonLCBlcnJvcik7XG4gICAgcmV0dXJuIFtdO1xuICB9XG59O1xuXG4vLyBHZXQgYXBwbGllZCBwcm9qZWN0cyBmcm9tIHRoZSBBUElcbmV4cG9ydCBjb25zdCBnZXRBcHBsaWVkUHJvamVjdHMgPSBhc3luYyAoKTogUHJvbWlzZTxQcm9qZWN0W10+ID0+IHtcbiAgLy8gSW4gZGV2ZWxvcG1lbnQsIGltbWVkaWF0ZWx5IHJldHVybiBzYW1wbGUgZGF0YVxuICBpZiAoSVNfREVWKSB7XG4gICAgY29uc29sZS5sb2coJ0RldmVsb3BtZW50IG1vZGU6IFVzaW5nIHNhbXBsZSBhcHBsaWVkIHByb2plY3RzIGRhdGEnKTtcbiAgICBcbiAgICAvLyBVc2UgdHJ5LWNhdGNoIHRvIGhhbmRsZSBwb3RlbnRpYWwgYXV0aCBzdGF0ZSBpc3N1ZXNcbiAgICB0cnkge1xuICAgICAgLy8gV2FpdCBmb3IgYXV0aCB0byBiZSBpbml0aWFsaXplZFxuICAgICAgY29uc3QgYXV0aGVudGljYXRlZCA9IGF3YWl0IGlzQXV0aGVudGljYXRlZCgpO1xuICAgICAgaWYgKCFhdXRoZW50aWNhdGVkKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdObyBhdXRoZW50aWNhdGVkIHVzZXIsIHJldHVybmluZyBlbXB0eSBhcHBsaWVkIHByb2plY3RzJyk7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgY29uc3QgdXNlciA9IGF3YWl0IGdldEN1cnJlbnRVc2VyKCk7XG4gICAgICBpZiAoIXVzZXIpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ05vIGF1dGhlbnRpY2F0ZWQgdXNlciBhZnRlciBjaGVjaywgcmV0dXJuaW5nIGVtcHR5IGFwcGxpZWQgcHJvamVjdHMnKTtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBHZXQgYXBwbGllZCBwcm9qZWN0IElEcyBmcm9tIEZpcmVzdG9yZVxuICAgICAgY29uc3QgYXBwbGllZFByb2plY3RJZHMgPSBhd2FpdCBnZXRVc2VyRGF0YUZyb21GaXJlc3RvcmU8c3RyaW5nW10+KHVzZXIudWlkLCAnYXBwbGllZFByb2plY3RzJywgW10pO1xuICAgICAgY29uc29sZS5sb2coJ0FwcGxpZWQgcHJvamVjdCBJRHM6JywgYXBwbGllZFByb2plY3RJZHMpO1xuICAgICAgXG4gICAgICAvLyBSZXR1cm4gcHJvamVjdHMgd2l0aCB0aGVzZSBJRHNcbiAgICAgIHJldHVybiBnZXRTYW1wbGVQcm9qZWN0cygpXG4gICAgICAgIC5maWx0ZXIocHJvamVjdCA9PiBhcHBsaWVkUHJvamVjdElkcy5pbmNsdWRlcyhwcm9qZWN0LmlkKSlcbiAgICAgICAgLm1hcChwcm9qZWN0ID0+ICh7XG4gICAgICAgICAgLi4ucHJvamVjdCxcbiAgICAgICAgICBpZDogYGFwcGxpZWRfJHtwcm9qZWN0LmlkfWAgLy8gRW5zdXJlIHVuaXF1ZSBJRHMgZm9yIFJlYWN0IGtleXNcbiAgICAgICAgfSkpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBhcHBsaWVkIHByb2plY3RzIGZyb20gRmlyZXN0b3JlOicsIGVycm9yKTtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gIH1cblxuICAvLyBQcm9kdWN0aW9uIEFQSSBjYWxsIGxvZ2ljXG4gIHRyeSB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBheGlvcy5nZXQoYCR7QVBJX1VSTH0vY29ubmVjdC9hcHBsaWVkYCwge1xuICAgICAgaGVhZGVyczogZ2V0QXV0aEhlYWRlcnMoKVxuICAgIH0pO1xuICAgIFxuICAgIGlmIChyZXNwb25zZS5kYXRhLnN1Y2Nlc3MpIHtcbiAgICAgIHJldHVybiByZXNwb25zZS5kYXRhLmRhdGEgfHwgW107XG4gICAgfVxuICAgIFxuICAgIHJldHVybiBbXTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBhcHBsaWVkIHByb2plY3RzOicsIGVycm9yKTtcbiAgICByZXR1cm4gW107XG4gIH1cbn07XG5cbi8vIEFwcGx5IHRvIGEgcHJvamVjdFxuZXhwb3J0IGNvbnN0IGFwcGx5VG9Qcm9qZWN0ID0gYXN5bmMgKHByb2plY3RJZDogc3RyaW5nKTogUHJvbWlzZTxib29sZWFuPiA9PiB7XG4gIC8vIEluIGRldmVsb3BtZW50LCBpbW1lZGlhdGVseSByZXR1cm4gc3VjY2Vzc1xuICBpZiAoSVNfREVWKSB7XG4gICAgY29uc29sZS5sb2coYERldmVsb3BtZW50IG1vZGU6IFNpbXVsYXRpbmcgYXBwbHkgdG8gcHJvamVjdCAke3Byb2plY3RJZH1gKTtcbiAgICBcbiAgICBjb25zdCBjdXJyZW50VXNlciA9IGF1dGguY3VycmVudFVzZXI7XG4gICAgaWYgKCFjdXJyZW50VXNlcikge1xuICAgICAgY29uc29sZS5lcnJvcignQ2Fubm90IGFwcGx5IHRvIHByb2plY3Q6IE5vIGF1dGhlbnRpY2F0ZWQgdXNlcicpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBcbiAgICB0cnkge1xuICAgICAgLy8gR2V0IGN1cnJlbnQgYXBwbGllZCBwcm9qZWN0c1xuICAgICAgY29uc3QgYXBwbGllZFByb2plY3RJZHMgPSBhd2FpdCBnZXRVc2VyRGF0YUZyb21GaXJlc3RvcmU8c3RyaW5nW10+KGN1cnJlbnRVc2VyLnVpZCwgJ2FwcGxpZWRQcm9qZWN0cycsIFtdKTtcbiAgICAgIFxuICAgICAgLy8gT25seSBhZGQgaWYgbm90IGFscmVhZHkgaW4gdGhlIGxpc3RcbiAgICAgIGlmICghYXBwbGllZFByb2plY3RJZHMuaW5jbHVkZXMocHJvamVjdElkKSkge1xuICAgICAgICBjb25zdCB1cGRhdGVkQXBwbGllZFByb2plY3RzID0gWy4uLmFwcGxpZWRQcm9qZWN0SWRzLCBwcm9qZWN0SWRdO1xuICAgICAgICBcbiAgICAgICAgLy8gU3RvcmUgaW4gRmlyZXN0b3JlXG4gICAgICAgIGF3YWl0IHN0b3JlVXNlckRhdGFJbkZpcmVzdG9yZShjdXJyZW50VXNlci51aWQsICdhcHBsaWVkUHJvamVjdHMnLCB1cGRhdGVkQXBwbGllZFByb2plY3RzKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIGFwcGx5aW5nIHRvIHByb2plY3QgJHtwcm9qZWN0SWR9OmAsIGVycm9yKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICB0cnkge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXhpb3MucG9zdChgJHtBUElfVVJMfS9wcm9qZWN0cy8ke3Byb2plY3RJZH0vYXBwbHlgLCB7fSwge1xuICAgICAgaGVhZGVyczogZ2V0QXV0aEhlYWRlcnMoKVxuICAgIH0pO1xuICAgIFxuICAgIHJldHVybiByZXNwb25zZS5kYXRhLnN1Y2Nlc3MgfHwgZmFsc2U7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihgRXJyb3IgYXBwbHlpbmcgdG8gcHJvamVjdCAke3Byb2plY3RJZH06YCwgZXJyb3IpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufTtcblxuLy8gU2F2ZSBhIHByb2plY3RcbmV4cG9ydCBjb25zdCBzYXZlUHJvamVjdCA9IGFzeW5jIChwcm9qZWN0SWQ6IHN0cmluZyk6IFByb21pc2U8Ym9vbGVhbj4gPT4ge1xuICAvLyBJbiBkZXZlbG9wbWVudCwgaW1tZWRpYXRlbHkgcmV0dXJuIHN1Y2Nlc3NcbiAgaWYgKElTX0RFVikge1xuICAgIGNvbnNvbGUubG9nKGBEZXZlbG9wbWVudCBtb2RlOiBTaW11bGF0aW5nIHNhdmUgcHJvamVjdCAke3Byb2plY3RJZH1gKTtcbiAgICBcbiAgICBjb25zdCBjdXJyZW50VXNlciA9IGF1dGguY3VycmVudFVzZXI7XG4gICAgaWYgKCFjdXJyZW50VXNlcikge1xuICAgICAgY29uc29sZS5lcnJvcignQ2Fubm90IHNhdmUgcHJvamVjdDogTm8gYXV0aGVudGljYXRlZCB1c2VyJyk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIFxuICAgIHRyeSB7XG4gICAgICAvLyBHZXQgY3VycmVudCBzYXZlZCBwcm9qZWN0c1xuICAgICAgY29uc3Qgc2F2ZWRQcm9qZWN0SWRzID0gYXdhaXQgZ2V0VXNlckRhdGFGcm9tRmlyZXN0b3JlPHN0cmluZ1tdPihjdXJyZW50VXNlci51aWQsICdzYXZlZFByb2plY3RzJywgW10pO1xuICAgICAgXG4gICAgICAvLyBPbmx5IGFkZCBpZiBub3QgYWxyZWFkeSBpbiB0aGUgbGlzdFxuICAgICAgaWYgKCFzYXZlZFByb2plY3RJZHMuaW5jbHVkZXMocHJvamVjdElkKSkge1xuICAgICAgICBjb25zdCB1cGRhdGVkU2F2ZWRQcm9qZWN0cyA9IFsuLi5zYXZlZFByb2plY3RJZHMsIHByb2plY3RJZF07XG4gICAgICAgIFxuICAgICAgICAvLyBTdG9yZSBpbiBGaXJlc3RvcmVcbiAgICAgICAgYXdhaXQgc3RvcmVVc2VyRGF0YUluRmlyZXN0b3JlKGN1cnJlbnRVc2VyLnVpZCwgJ3NhdmVkUHJvamVjdHMnLCB1cGRhdGVkU2F2ZWRQcm9qZWN0cyk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGBFcnJvciBzYXZpbmcgcHJvamVjdCAke3Byb2plY3RJZH06YCwgZXJyb3IpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIHRyeSB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBheGlvcy5wb3N0KGAke0FQSV9VUkx9L2Nvbm5lY3Qvc2F2ZS8ke3Byb2plY3RJZH1gLCB7fSwge1xuICAgICAgaGVhZGVyczogZ2V0QXV0aEhlYWRlcnMoKVxuICAgIH0pO1xuICAgIFxuICAgIHJldHVybiByZXNwb25zZS5kYXRhLnN1Y2Nlc3MgfHwgZmFsc2U7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihgRXJyb3Igc2F2aW5nIHByb2plY3QgJHtwcm9qZWN0SWR9OmAsIGVycm9yKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn07XG5cbi8vIERlY2xpbmUgYSBwcm9qZWN0XG5leHBvcnQgY29uc3QgZGVjbGluZVByb2plY3QgPSBhc3luYyAocHJvamVjdElkOiBzdHJpbmcpOiBQcm9taXNlPGJvb2xlYW4+ID0+IHtcbiAgLy8gSW4gZGV2ZWxvcG1lbnQsIGltbWVkaWF0ZWx5IHJldHVybiBzdWNjZXNzXG4gIGlmIChJU19ERVYpIHtcbiAgICBjb25zb2xlLmxvZyhgRGV2ZWxvcG1lbnQgbW9kZTogU2ltdWxhdGluZyBkZWNsaW5lIHByb2plY3QgJHtwcm9qZWN0SWR9YCk7XG4gICAgXG4gICAgY29uc3QgY3VycmVudFVzZXIgPSBhdXRoLmN1cnJlbnRVc2VyO1xuICAgIGlmICghY3VycmVudFVzZXIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Nhbm5vdCBkZWNsaW5lIHByb2plY3Q6IE5vIGF1dGhlbnRpY2F0ZWQgdXNlcicpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBcbiAgICB0cnkge1xuICAgICAgLy8gR2V0IGN1cnJlbnQgZGVjbGluZWQgcHJvamVjdHNcbiAgICAgIGNvbnN0IGRlY2xpbmVkUHJvamVjdElkcyA9IGF3YWl0IGdldFVzZXJEYXRhRnJvbUZpcmVzdG9yZTxzdHJpbmdbXT4oY3VycmVudFVzZXIudWlkLCAnZGVjbGluZWRQcm9qZWN0cycsIFtdKTtcbiAgICAgIFxuICAgICAgLy8gT25seSBhZGQgaWYgbm90IGFscmVhZHkgaW4gdGhlIGxpc3RcbiAgICAgIGlmICghZGVjbGluZWRQcm9qZWN0SWRzLmluY2x1ZGVzKHByb2plY3RJZCkpIHtcbiAgICAgICAgY29uc3QgdXBkYXRlZERlY2xpbmVkUHJvamVjdHMgPSBbLi4uZGVjbGluZWRQcm9qZWN0SWRzLCBwcm9qZWN0SWRdO1xuICAgICAgICBcbiAgICAgICAgLy8gU3RvcmUgaW4gRmlyZXN0b3JlXG4gICAgICAgIGF3YWl0IHN0b3JlVXNlckRhdGFJbkZpcmVzdG9yZShjdXJyZW50VXNlci51aWQsICdkZWNsaW5lZFByb2plY3RzJywgdXBkYXRlZERlY2xpbmVkUHJvamVjdHMpO1xuICAgICAgfVxuICAgICAgXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihgRXJyb3IgZGVjbGluaW5nIHByb2plY3QgJHtwcm9qZWN0SWR9OmAsIGVycm9yKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICB0cnkge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXhpb3MucG9zdChgJHtBUElfVVJMfS9jb25uZWN0L2RlY2xpbmUvJHtwcm9qZWN0SWR9YCwge30sIHtcbiAgICAgIGhlYWRlcnM6IGdldEF1dGhIZWFkZXJzKClcbiAgICB9KTtcbiAgICBcbiAgICByZXR1cm4gcmVzcG9uc2UuZGF0YS5zdWNjZXNzIHx8IGZhbHNlO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIGRlY2xpbmluZyBwcm9qZWN0ICR7cHJvamVjdElkfTpgLCBlcnJvcik7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59O1xuXG4vLyBSZW1vdmUgYSBzYXZlZCBwcm9qZWN0XG5leHBvcnQgY29uc3QgcmVtb3ZlUHJvamVjdCA9IGFzeW5jIChwcm9qZWN0SWQ6IHN0cmluZyk6IFByb21pc2U8Ym9vbGVhbj4gPT4ge1xuICAvLyBJbiBkZXZlbG9wbWVudCwgaW1tZWRpYXRlbHkgcmV0dXJuIHN1Y2Nlc3NcbiAgaWYgKElTX0RFVikge1xuICAgIGNvbnNvbGUubG9nKGBEZXZlbG9wbWVudCBtb2RlOiBTaW11bGF0aW5nIHJlbW92ZSBwcm9qZWN0ICR7cHJvamVjdElkfWApO1xuICAgIFxuICAgIGNvbnN0IGN1cnJlbnRVc2VyID0gYXV0aC5jdXJyZW50VXNlcjtcbiAgICBpZiAoIWN1cnJlbnRVc2VyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdDYW5ub3QgcmVtb3ZlIHByb2plY3Q6IE5vIGF1dGhlbnRpY2F0ZWQgdXNlcicpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBcbiAgICB0cnkge1xuICAgICAgLy8gR2V0IGN1cnJlbnQgc2F2ZWQgcHJvamVjdHNcbiAgICAgIGNvbnN0IHNhdmVkUHJvamVjdElkcyA9IGF3YWl0IGdldFVzZXJEYXRhRnJvbUZpcmVzdG9yZTxzdHJpbmdbXT4oY3VycmVudFVzZXIudWlkLCAnc2F2ZWRQcm9qZWN0cycsIFtdKTtcbiAgICAgIFxuICAgICAgLy8gUmVtb3ZlIHRoZSBwcm9qZWN0IElEIGZyb20gdGhlIGxpc3RcbiAgICAgIGNvbnN0IHVwZGF0ZWRTYXZlZFByb2plY3RzID0gc2F2ZWRQcm9qZWN0SWRzLmZpbHRlcihpZCA9PiBpZCAhPT0gcHJvamVjdElkLnJlcGxhY2UoJ3NhdmVkXycsICcnKSk7XG4gICAgICBcbiAgICAgIC8vIFN0b3JlIGluIEZpcmVzdG9yZVxuICAgICAgYXdhaXQgc3RvcmVVc2VyRGF0YUluRmlyZXN0b3JlKGN1cnJlbnRVc2VyLnVpZCwgJ3NhdmVkUHJvamVjdHMnLCB1cGRhdGVkU2F2ZWRQcm9qZWN0cyk7XG4gICAgICBcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGBFcnJvciByZW1vdmluZyBwcm9qZWN0ICR7cHJvamVjdElkfTpgLCBlcnJvcik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgdHJ5IHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGF4aW9zLmRlbGV0ZShgJHtBUElfVVJMfS9jb25uZWN0L3NhdmVkLyR7cHJvamVjdElkfWAsIHtcbiAgICAgIGhlYWRlcnM6IGdldEF1dGhIZWFkZXJzKClcbiAgICB9KTtcbiAgICBcbiAgICByZXR1cm4gcmVzcG9uc2UuZGF0YS5zdWNjZXNzIHx8IGZhbHNlO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIHJlbW92aW5nIHByb2plY3QgJHtwcm9qZWN0SWR9OmAsIGVycm9yKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn07XG5cbi8vIEZvciB0ZXN0aW5nOiBSZXR1cm4gZW1wdHkgcHJvamVjdHNcbmV4cG9ydCBjb25zdCBnZXRFbXB0eVByb2plY3RzID0gYXN5bmMgKCk6IFByb21pc2U8UHJvamVjdFtdPiA9PiB7XG4gIGNvbnNvbGUubG9nKCdEZXZlbG9wbWVudCBtb2RlOiBUZXN0aW5nIHdpdGggZW1wdHkgcHJvamVjdHMnKTtcbiAgcmV0dXJuIFtdO1xufTtcblxuLy8gU2FtcGxlIHByb2plY3RzIGRhdGEgZm9yIGZhbGxiYWNrXG5leHBvcnQgY29uc3QgZ2V0U2FtcGxlUHJvamVjdHMgPSAoKTogUHJvamVjdFtdID0+IHtcbiAgcmV0dXJuIFtcbiAgICB7XG4gICAgICBpZDogJzEnLFxuICAgICAgdGl0bGU6ICdQcmVkaWN0aW5nIEhvdXNpbmcgUHJpY2VzIFVzaW5nIEFkdmFuY2VkIE1hY2hpbmUgTGVhcm5pbmcgTW9kZWxzJyxcbiAgICAgIGRlc2NyaXB0aW9uOiAnVGhpcyBwcm9qZWN0IGV4cGxvcmVzIHRoZSBhcHBsaWNhdGlvbiBvZiBtYWNoaW5lIGxlYXJuaW5nIHRlY2huaXF1ZXMgdG8gcHJlZGljdCBob3VzaW5nIHByaWNlcyBiYXNlZCBvbiBmZWF0dXJlcyBzdWNoIGFzIGxvY2F0aW9uLCBzcXVhcmUgZm9vdGFnZSwgYW5kIG5laWdoYm9yaG9vZCBhbWVuaXRpZXMuJyxcbiAgICAgIGZhY3VsdHk6ICdEci4gSmFuZSBTbWl0aCcsXG4gICAgICBkZXBhcnRtZW50OiAnQ29tcHV0ZXIgU2NpZW5jZScsXG4gICAgICBza2lsbHM6IFsnUHl0aG9uJywgJ01hY2hpbmUgTGVhcm5pbmcnLCAnRGF0YSBBbmFseXNpcyddLFxuICAgICAgZHVyYXRpb246ICczIG1vbnRocycsXG4gICAgICBjb21taXRtZW50OiAnMTAgaG91cnMvd2VlaydcbiAgICB9LFxuICAgIHtcbiAgICAgIGlkOiAnMicsXG4gICAgICB0aXRsZTogJ01vZGVsaW5nIENsaW1hdGUgQ2hhbmdlIEltcGFjdCBvbiBSZWdpb25hbCBDcm9wIFlpZWxkcycsXG4gICAgICBkZXNjcmlwdGlvbjogJ1RoaXMgcHJvamVjdCBleGFtaW5lcyBob3cgY2xpbWF0ZSBjaGFuZ2UgdmFyaWFibGVz4oCUdGVtcGVyYXR1cmUsIHByZWNpcGl0YXRpb24sIGFuZCBDT+KCgiBsZXZlbHPigJRhZmZlY3QgY3JvcCB5aWVsZHMgdXNpbmcgdGltZS1zZXJpZXMgYW5hbHlzaXMgYW5kIGdlb3NwYXRpYWwgbW9kZWxpbmcuJyxcbiAgICAgIGZhY3VsdHk6ICdEci4gTWljaGFlbCBLaW0nLFxuICAgICAgZGVwYXJ0bWVudDogJ0Vudmlyb25tZW50YWwgU2NpZW5jZScsXG4gICAgICBza2lsbHM6IFsnUHl0aG9uJywgJ1RlbnNvckZsb3cnLCAnR2Vvc3BhdGlhbCBBbmFseXNpcyddLFxuICAgICAgZHVyYXRpb246ICc2IG1vbnRocycsXG4gICAgICBjb21taXRtZW50OiAnMTUgaG91cnMvd2VlaydcbiAgICB9LFxuICAgIHtcbiAgICAgIGlkOiAnMycsXG4gICAgICB0aXRsZTogJ0RldmVsb3BpbmcgYSBNb2JpbGUgQXBwIGZvciBNZW50YWwgSGVhbHRoIE1vbml0b3JpbmcnLFxuICAgICAgZGVzY3JpcHRpb246ICdUaGlzIHByb2plY3QgaW52b2x2ZXMgY3JlYXRpbmcgYSBtb2JpbGUgYXBwbGljYXRpb24gdGhhdCBoZWxwcyB1c2VycyB0cmFjayB0aGVpciBtZW50YWwgaGVhbHRoIG1ldHJpY3Mgb3ZlciB0aW1lLCBwcm92aWRpbmcgaW5zaWdodHMgYW5kIHN1Z2dlc3RpbmcgcmVzb3VyY2VzIHdoZW4gbmVlZGVkLicsXG4gICAgICBmYWN1bHR5OiAnRHIuIFNhcmFoIEpvaG5zb24nLFxuICAgICAgZGVwYXJ0bWVudDogJ1BzeWNob2xvZ3knLFxuICAgICAgc2tpbGxzOiBbJ1JlYWN0IE5hdGl2ZScsICdKYXZhU2NyaXB0JywgJ1VJL1VYIERlc2lnbiddLFxuICAgICAgZHVyYXRpb246ICc0IG1vbnRocycsXG4gICAgICBjb21taXRtZW50OiAnMTIgaG91cnMvd2VlaydcbiAgICB9LFxuICAgIHtcbiAgICAgIGlkOiAnNCcsXG4gICAgICB0aXRsZTogJ0FuYWx5emluZyBTb2NpYWwgTWVkaWEgRGlzY291cnNlIG9uIFB1YmxpYyBIZWFsdGggSXNzdWVzJyxcbiAgICAgIGRlc2NyaXB0aW9uOiAnVGhpcyBwcm9qZWN0IHVzZXMgbmF0dXJhbCBsYW5ndWFnZSBwcm9jZXNzaW5nIHRvIGFuYWx5emUgaG93IHB1YmxpYyBoZWFsdGggdG9waWNzIGFyZSBkaXNjdXNzZWQgYWNyb3NzIGRpZmZlcmVudCBzb2NpYWwgbWVkaWEgcGxhdGZvcm1zIGFuZCBkZW1vZ3JhcGhpYyBncm91cHMuJyxcbiAgICAgIGZhY3VsdHk6ICdEci4gUm9iZXJ0IENoZW4nLFxuICAgICAgZGVwYXJ0bWVudDogJ1B1YmxpYyBIZWFsdGgnLFxuICAgICAgc2tpbGxzOiBbJ05MUCcsICdEYXRhIE1pbmluZycsICdTdGF0aXN0aWNhbCBBbmFseXNpcyddLFxuICAgICAgZHVyYXRpb246ICc1IG1vbnRocycsXG4gICAgICBjb21taXRtZW50OiAnOCBob3Vycy93ZWVrJ1xuICAgIH0sXG4gICAge1xuICAgICAgaWQ6ICc1JyxcbiAgICAgIHRpdGxlOiAnUXVhbnR1bSBDb21wdXRpbmcgQWxnb3JpdGhtcyBmb3IgT3B0aW1pemF0aW9uIFByb2JsZW1zJyxcbiAgICAgIGRlc2NyaXB0aW9uOiAnVGhpcyBwcm9qZWN0IGV4cGxvcmVzIGhvdyBxdWFudHVtIGNvbXB1dGluZyBjYW4gYmUgYXBwbGllZCB0byBzb2x2ZSBjb21wbGV4IG9wdGltaXphdGlvbiBwcm9ibGVtcyB0aGF0IGFyZSBjb21wdXRhdGlvbmFsbHkgaW50ZW5zaXZlIGZvciBjbGFzc2ljYWwgY29tcHV0ZXJzLicsXG4gICAgICBmYWN1bHR5OiAnRHIuIEVtaWx5IFJvZHJpZ3VleicsXG4gICAgICBkZXBhcnRtZW50OiAnUGh5c2ljcycsXG4gICAgICBza2lsbHM6IFsnUXVhbnR1bSBDb21wdXRpbmcnLCAnQWxnb3JpdGhtIERlc2lnbicsICdMaW5lYXIgQWxnZWJyYSddLFxuICAgICAgZHVyYXRpb246ICc2IG1vbnRocycsXG4gICAgICBjb21taXRtZW50OiAnMjAgaG91cnMvd2VlaydcbiAgICB9XG4gIF07XG59O1xuXG4vLyBDb21wbGV0ZWx5IGNsZWFyIGFsbCBkYXRhIGZvciBhIHNwZWNpZmljIHVzZXIgKGZvciBhY2NvdW50IGRlbGV0aW9uIG9yIHRlc3RpbmcpXG5leHBvcnQgY29uc3QgcHVyZ2VVc2VyRGF0YSA9IGFzeW5jICh1c2VySWQ6IHN0cmluZyk6IFByb21pc2U8dm9pZD4gPT4ge1xuICB0cnkge1xuICAgIC8vIERlbGV0ZSB0aGUgdXNlciBkb2N1bWVudCBmcm9tIEZpcmVzdG9yZVxuICAgIGNvbnN0IHVzZXJEb2NSZWYgPSBnZXRVc2VyRGF0YVJlZih1c2VySWQpO1xuICAgIGF3YWl0IHNldERvYyh1c2VyRG9jUmVmLCB7XG4gICAgICB1c2VySWQsXG4gICAgICBzYXZlZFByb2plY3RzOiBbXSxcbiAgICAgIGFwcGxpZWRQcm9qZWN0czogW10sXG4gICAgICBkZWNsaW5lZFByb2plY3RzOiBbXSxcbiAgICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgfSk7XG4gICAgXG4gICAgY29uc29sZS5sb2coYFB1cmdlZCBhbGwgZGF0YSBmb3IgdXNlcjogJHt1c2VySWR9IGluIEZpcmVzdG9yZWApO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIHB1cmdpbmcgZGF0YSBmb3IgdXNlciAke3VzZXJJZH06YCwgZXJyb3IpO1xuICB9XG59O1xuXG4vLyBVbmRvIGxhc3QgYWN0aW9uXG5leHBvcnQgY29uc3QgdW5kb0xhc3RBY3Rpb24gPSBhc3luYyAoKTogUHJvbWlzZTx7IHN1Y2Nlc3M6IGJvb2xlYW47IG1lc3NhZ2U6IHN0cmluZzsgdW5kb25lUHJvamVjdElkPzogc3RyaW5nIH0+ID0+IHtcbiAgLy8gSW4gZGV2ZWxvcG1lbnQsIGltbWVkaWF0ZWx5IHJldHVybiBzdWNjZXNzXG4gIGlmIChJU19ERVYpIHtcbiAgICBjb25zb2xlLmxvZyhgRGV2ZWxvcG1lbnQgbW9kZTogU2ltdWxhdGluZyB1bmRvIGxhc3QgYWN0aW9uYCk7XG4gICAgXG4gICAgY29uc3QgY3VycmVudFVzZXIgPSBhdXRoLmN1cnJlbnRVc2VyO1xuICAgIGlmICghY3VycmVudFVzZXIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Nhbm5vdCB1bmRvIGxhc3QgYWN0aW9uOiBObyBhdXRoZW50aWNhdGVkIHVzZXInKTtcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBtZXNzYWdlOiAnTm8gYXV0aGVudGljYXRlZCB1c2VyJyB9O1xuICAgIH1cbiAgICBcbiAgICB0cnkge1xuICAgICAgLy8gSW5zdGVhZCBvZiBxdWVyeWluZyB1c2VyQWN0aW9ucyBjb2xsZWN0aW9uIHdoaWNoIG1pZ2h0IG5vdCBleGlzdCxcbiAgICAgIC8vIHdlJ2xsIHVzZSBhIHNpbXBsZXIgYXBwcm9hY2ggZm9yIGRldmVsb3BtZW50IG1vZGVcbiAgICAgIFxuICAgICAgLy8gRmlyc3QgY2hlY2sgaWYgdGhlcmUgYXJlIGFueSBzYXZlZCBwcm9qZWN0c1xuICAgICAgY29uc3Qgc2F2ZWRQcm9qZWN0SWRzID0gYXdhaXQgZ2V0VXNlckRhdGFGcm9tRmlyZXN0b3JlPHN0cmluZ1tdPihjdXJyZW50VXNlci51aWQsICdzYXZlZFByb2plY3RzJywgW10pO1xuICAgICAgaWYgKHNhdmVkUHJvamVjdElkcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIC8vIFVuZG8gdGhlIG1vc3QgcmVjZW50IHNhdmVkIHByb2plY3QgKHJlbW92ZSB0aGUgbGFzdCBvbmUpXG4gICAgICAgIGNvbnN0IHByb2plY3RJZFRvUmVtb3ZlID0gc2F2ZWRQcm9qZWN0SWRzW3NhdmVkUHJvamVjdElkcy5sZW5ndGggLSAxXTtcbiAgICAgICAgY29uc3QgdXBkYXRlZFNhdmVkUHJvamVjdHMgPSBzYXZlZFByb2plY3RJZHMuZmlsdGVyKGlkID0+IGlkICE9PSBwcm9qZWN0SWRUb1JlbW92ZSk7XG4gICAgICAgIGF3YWl0IHN0b3JlVXNlckRhdGFJbkZpcmVzdG9yZShjdXJyZW50VXNlci51aWQsICdzYXZlZFByb2plY3RzJywgdXBkYXRlZFNhdmVkUHJvamVjdHMpO1xuICAgICAgICBcbiAgICAgICAgLy8gTG9nIHRoZSBhY3Rpb24gZm9yIGRlYnVnZ2luZ1xuICAgICAgICBjb25zb2xlLmxvZyhgVW5kaWQgc2F2ZSBhY3Rpb24gZm9yIHByb2plY3QgJHtwcm9qZWN0SWRUb1JlbW92ZX1gKTtcbiAgICAgICAgXG4gICAgICAgIHJldHVybiB7IFxuICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsIFxuICAgICAgICAgIG1lc3NhZ2U6IGBTdWNjZXNzZnVsbHkgdW5kaWQgc2F2ZSBhY3Rpb24gZm9yIHByb2plY3QgJHtwcm9qZWN0SWRUb1JlbW92ZX1gLFxuICAgICAgICAgIHVuZG9uZVByb2plY3RJZDogcHJvamVjdElkVG9SZW1vdmVcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gSWYgbm8gc2F2ZWQgcHJvamVjdHMsIGNoZWNrIGFwcGxpZWQgcHJvamVjdHNcbiAgICAgIGNvbnN0IGFwcGxpZWRQcm9qZWN0SWRzID0gYXdhaXQgZ2V0VXNlckRhdGFGcm9tRmlyZXN0b3JlPHN0cmluZ1tdPihjdXJyZW50VXNlci51aWQsICdhcHBsaWVkUHJvamVjdHMnLCBbXSk7XG4gICAgICBpZiAoYXBwbGllZFByb2plY3RJZHMubGVuZ3RoID4gMCkge1xuICAgICAgICAvLyBVbmRvIHRoZSBtb3N0IHJlY2VudCBhcHBsaWVkIHByb2plY3QgKHJlbW92ZSB0aGUgbGFzdCBvbmUpXG4gICAgICAgIGNvbnN0IHByb2plY3RJZFRvUmVtb3ZlID0gYXBwbGllZFByb2plY3RJZHNbYXBwbGllZFByb2plY3RJZHMubGVuZ3RoIC0gMV07XG4gICAgICAgIGNvbnN0IHVwZGF0ZWRBcHBsaWVkUHJvamVjdHMgPSBhcHBsaWVkUHJvamVjdElkcy5maWx0ZXIoaWQgPT4gaWQgIT09IHByb2plY3RJZFRvUmVtb3ZlKTtcbiAgICAgICAgYXdhaXQgc3RvcmVVc2VyRGF0YUluRmlyZXN0b3JlKGN1cnJlbnRVc2VyLnVpZCwgJ2FwcGxpZWRQcm9qZWN0cycsIHVwZGF0ZWRBcHBsaWVkUHJvamVjdHMpO1xuICAgICAgICBcbiAgICAgICAgLy8gTG9nIHRoZSBhY3Rpb24gZm9yIGRlYnVnZ2luZ1xuICAgICAgICBjb25zb2xlLmxvZyhgVW5kaWQgYXBwbHkgYWN0aW9uIGZvciBwcm9qZWN0ICR7cHJvamVjdElkVG9SZW1vdmV9YCk7XG4gICAgICAgIFxuICAgICAgICByZXR1cm4geyBcbiAgICAgICAgICBzdWNjZXNzOiB0cnVlLCBcbiAgICAgICAgICBtZXNzYWdlOiBgU3VjY2Vzc2Z1bGx5IHVuZGlkIGFwcGx5IGFjdGlvbiBmb3IgcHJvamVjdCAke3Byb2plY3RJZFRvUmVtb3ZlfWAsXG4gICAgICAgICAgdW5kb25lUHJvamVjdElkOiBwcm9qZWN0SWRUb1JlbW92ZVxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBJZiBubyBhcHBsaWVkIHByb2plY3RzLCBjaGVjayBkZWNsaW5lZCBwcm9qZWN0c1xuICAgICAgY29uc3QgZGVjbGluZWRQcm9qZWN0SWRzID0gYXdhaXQgZ2V0VXNlckRhdGFGcm9tRmlyZXN0b3JlPHN0cmluZ1tdPihjdXJyZW50VXNlci51aWQsICdkZWNsaW5lZFByb2plY3RzJywgW10pO1xuICAgICAgaWYgKGRlY2xpbmVkUHJvamVjdElkcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIC8vIFVuZG8gdGhlIG1vc3QgcmVjZW50IGRlY2xpbmVkIHByb2plY3QgKHJlbW92ZSB0aGUgbGFzdCBvbmUpXG4gICAgICAgIGNvbnN0IHByb2plY3RJZFRvUmVtb3ZlID0gZGVjbGluZWRQcm9qZWN0SWRzW2RlY2xpbmVkUHJvamVjdElkcy5sZW5ndGggLSAxXTtcbiAgICAgICAgY29uc3QgdXBkYXRlZERlY2xpbmVkUHJvamVjdHMgPSBkZWNsaW5lZFByb2plY3RJZHMuZmlsdGVyKGlkID0+IGlkICE9PSBwcm9qZWN0SWRUb1JlbW92ZSk7XG4gICAgICAgIGF3YWl0IHN0b3JlVXNlckRhdGFJbkZpcmVzdG9yZShjdXJyZW50VXNlci51aWQsICdkZWNsaW5lZFByb2plY3RzJywgdXBkYXRlZERlY2xpbmVkUHJvamVjdHMpO1xuICAgICAgICBcbiAgICAgICAgLy8gTG9nIHRoZSBhY3Rpb24gZm9yIGRlYnVnZ2luZ1xuICAgICAgICBjb25zb2xlLmxvZyhgVW5kaWQgZGVjbGluZSBhY3Rpb24gZm9yIHByb2plY3QgJHtwcm9qZWN0SWRUb1JlbW92ZX1gKTtcbiAgICAgICAgXG4gICAgICAgIHJldHVybiB7IFxuICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsIFxuICAgICAgICAgIG1lc3NhZ2U6IGBTdWNjZXNzZnVsbHkgdW5kaWQgZGVjbGluZSBhY3Rpb24gZm9yIHByb2plY3QgJHtwcm9qZWN0SWRUb1JlbW92ZX1gLFxuICAgICAgICAgIHVuZG9uZVByb2plY3RJZDogcHJvamVjdElkVG9SZW1vdmVcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gSWYgd2UgZ2V0IGhlcmUsIHRoZXJlIGFyZSBubyBhY3Rpb25zIHRvIHVuZG9cbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBtZXNzYWdlOiAnTm8gYWN0aW9ucyB0byB1bmRvJyB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGBFcnJvciB1bmRvaW5nIGxhc3QgYWN0aW9uOmAsIGVycm9yKTtcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBtZXNzYWdlOiAnRXJyb3IgdW5kb2luZyBsYXN0IGFjdGlvbicgfTtcbiAgICB9XG4gIH1cblxuICB0cnkge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXhpb3MucG9zdChgJHtBUElfVVJMfS9jb25uZWN0L3VuZG9gLCB7fSwge1xuICAgICAgaGVhZGVyczogZ2V0QXV0aEhlYWRlcnMoKVxuICAgIH0pO1xuICAgIFxuICAgIHJldHVybiB7XG4gICAgICAuLi5yZXNwb25zZS5kYXRhLFxuICAgICAgdW5kb25lUHJvamVjdElkOiByZXNwb25zZS5kYXRhLnVuZG9uZVByb2plY3RJZCB8fCB1bmRlZmluZWRcbiAgICB9O1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIHVuZG9pbmcgbGFzdCBhY3Rpb246YCwgZXJyb3IpO1xuICAgIHJldHVybiB7IFxuICAgICAgc3VjY2VzczogZmFsc2UsIFxuICAgICAgbWVzc2FnZTogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcicgXG4gICAgfTtcbiAgfVxufTsgIl0sIm5hbWVzIjpbImF4aW9zIiwiYXV0aCIsImRiIiwiZG9jIiwiZ2V0RG9jIiwic2V0RG9jIiwidXBkYXRlRG9jIiwiZ2V0Q3VycmVudFVzZXIiLCJpc0F1dGhlbnRpY2F0ZWQiLCJBUElfVVJMIiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX0FQSV9VUkwiLCJJU19ERVYiLCJORVhUX1BVQkxJQ19JU19ERVZFTE9QTUVOVCIsIndpbmRvdyIsImxvY2F0aW9uIiwiaG9zdG5hbWUiLCJnZXRBdXRoSGVhZGVycyIsInRva2VuIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsIkF1dGhvcml6YXRpb24iLCJnZXRVc2VyRGF0YVJlZiIsInVzZXJJZCIsImdldFVzZXJEYXRhRnJvbUZpcmVzdG9yZSIsImZpZWxkIiwiZGVmYXVsdFZhbHVlIiwiY29uc29sZSIsImVycm9yIiwidXNlckRvY1JlZiIsInVzZXJEb2MiLCJleGlzdHMiLCJkYXRhIiwidW5kZWZpbmVkIiwic3RvcmVVc2VyRGF0YUluRmlyZXN0b3JlIiwidXBkYXRlZEF0IiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwiY3JlYXRlZEF0IiwiZ2V0UHJvamVjdHMiLCJsb2ciLCJhdXRoZW50aWNhdGVkIiwiZ2V0U2FtcGxlUHJvamVjdHMiLCJ1c2VyIiwic2F2ZWRQcm9qZWN0SWRzIiwidWlkIiwiYXBwbGllZFByb2plY3RJZHMiLCJkZWNsaW5lZFByb2plY3RJZHMiLCJleGNsdWRlZElkcyIsImZpbHRlciIsInByb2plY3QiLCJpbmNsdWRlcyIsImlkIiwicmVzcG9uc2UiLCJnZXQiLCJoZWFkZXJzIiwic3VjY2VzcyIsImdldFNhdmVkUHJvamVjdHMiLCJtYXAiLCJnZXRBcHBsaWVkUHJvamVjdHMiLCJhcHBseVRvUHJvamVjdCIsInByb2plY3RJZCIsImN1cnJlbnRVc2VyIiwidXBkYXRlZEFwcGxpZWRQcm9qZWN0cyIsInBvc3QiLCJzYXZlUHJvamVjdCIsInVwZGF0ZWRTYXZlZFByb2plY3RzIiwiZGVjbGluZVByb2plY3QiLCJ1cGRhdGVkRGVjbGluZWRQcm9qZWN0cyIsInJlbW92ZVByb2plY3QiLCJyZXBsYWNlIiwiZGVsZXRlIiwiZ2V0RW1wdHlQcm9qZWN0cyIsInRpdGxlIiwiZGVzY3JpcHRpb24iLCJmYWN1bHR5IiwiZGVwYXJ0bWVudCIsInNraWxscyIsImR1cmF0aW9uIiwiY29tbWl0bWVudCIsInB1cmdlVXNlckRhdGEiLCJzYXZlZFByb2plY3RzIiwiYXBwbGllZFByb2plY3RzIiwiZGVjbGluZWRQcm9qZWN0cyIsInVuZG9MYXN0QWN0aW9uIiwibWVzc2FnZSIsImxlbmd0aCIsInByb2plY3RJZFRvUmVtb3ZlIiwidW5kb25lUHJvamVjdElkIiwiRXJyb3IiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/services/projectsService.ts\n"));

/***/ })

});